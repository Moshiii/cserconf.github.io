%!PS-Adobe-2.0
%%Creator: dvips(k) 5.86 Copyright 1999 Radical Eye Software
%%Title: paper.dvi
%%Pages: 10
%%PageOrder: Ascend
%%BoundingBox: 0 0 612 792
%%DocumentFonts: Times-Roman Times-Italic Courier Times-Bold
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips paper.dvi -o paper.ps
%DVIPSParameters: dpi=600, compressed
%DVIPSSource:  TeX output 2003.04.23:1600
%%BeginProcSet: texc.pro
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: 8r.enc
% @@psencodingfile@{
%   author = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry",
%   version = "0.6",
%   date = "22 June 1996",
%   filename = "8r.enc",
%   email = "kb@@mail.tug.org",
%   address = "135 Center Hill Rd. // Plymouth, MA 02360",
%   codetable = "ISO/ASCII",
%   checksum = "119     662    4424",
%   docstring = "Encoding for TrueType or Type 1 fonts to be used with TeX."
% @}
% 
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both ASCII and Windows.
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there down to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /.notdef /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def

%%EndProcSet
%%BeginProcSet: texps.pro
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type/integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics/Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{
dup sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1
roll mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def
dup[exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}
if}forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}
def end

%%EndProcSet
%%BeginProcSet: special.pro
%!
TeXDict begin/SDict 200 dict N SDict begin/@SpecialDefaults{/hs 612 N
/vs 792 N/ho 0 N/vo 0 N/hsc 1 N/vsc 1 N/ang 0 N/CLIP 0 N/rwiSeen false N
/rhiSeen false N/letter{}N/note{}N/a4{}N/legal{}N}B/@scaleunit 100 N
/@hscale{@scaleunit div/hsc X}B/@vscale{@scaleunit div/vsc X}B/@hsize{
/hs X/CLIP 1 N}B/@vsize{/vs X/CLIP 1 N}B/@clip{/CLIP 2 N}B/@hoffset{/ho
X}B/@voffset{/vo X}B/@angle{/ang X}B/@rwi{10 div/rwi X/rwiSeen true N}B
/@rhi{10 div/rhi X/rhiSeen true N}B/@llx{/llx X}B/@lly{/lly X}B/@urx{
/urx X}B/@ury{/ury X}B/magscale true def end/@MacSetUp{userdict/md known
{userdict/md get type/dicttype eq{userdict begin md length 10 add md
maxlength ge{/md md dup length 20 add dict copy def}if end md begin
/letter{}N/note{}N/legal{}N/od{txpose 1 0 mtx defaultmatrix dtransform S
atan/pa X newpath clippath mark{transform{itransform moveto}}{transform{
itransform lineto}}{6 -2 roll transform 6 -2 roll transform 6 -2 roll
transform{itransform 6 2 roll itransform 6 2 roll itransform 6 2 roll
curveto}}{{closepath}}pathforall newpath counttomark array astore/gc xdf
pop ct 39 0 put 10 fz 0 fs 2 F/|______Courier fnt invertflag{PaintBlack}
if}N/txpose{pxs pys scale ppr aload pop por{noflips{pop S neg S TR pop 1
-1 scale}if xflip yflip and{pop S neg S TR 180 rotate 1 -1 scale ppr 3
get ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg TR}if xflip
yflip not and{pop S neg S TR pop 180 rotate ppr 3 get ppr 1 get neg sub
neg 0 TR}if yflip xflip not and{ppr 1 get neg ppr 0 get neg TR}if}{
noflips{TR pop pop 270 rotate 1 -1 scale}if xflip yflip and{TR pop pop
90 rotate 1 -1 scale ppr 3 get ppr 1 get neg sub neg ppr 2 get ppr 0 get
neg sub neg TR}if xflip yflip not and{TR pop pop 90 rotate ppr 3 get ppr
1 get neg sub neg 0 TR}if yflip xflip not and{TR pop pop 270 rotate ppr
2 get ppr 0 get neg sub neg 0 S TR}if}ifelse scaleby96{ppr aload pop 4
-1 roll add 2 div 3 1 roll add 2 div 2 copy TR .96 dup scale neg S neg S
TR}if}N/cp{pop pop showpage pm restore}N end}if}if}N/normalscale{
Resolution 72 div VResolution 72 div neg scale magscale{DVImag dup scale
}if 0 setgray}N/psfts{S 65781.76 div N}N/startTexFig{/psf$SavedState
save N userdict maxlength dict begin/magscale true def normalscale
currentpoint TR/psf$ury psfts/psf$urx psfts/psf$lly psfts/psf$llx psfts
/psf$y psfts/psf$x psfts currentpoint/psf$cy X/psf$cx X/psf$sx psf$x
psf$urx psf$llx sub div N/psf$sy psf$y psf$ury psf$lly sub div N psf$sx
psf$sy scale psf$cx psf$sx div psf$llx sub psf$cy psf$sy div psf$ury sub
TR/showpage{}N/erasepage{}N/copypage{}N/p 3 def @MacSetUp}N/doclip{
psf$llx psf$lly psf$urx psf$ury currentpoint 6 2 roll newpath 4 copy 4 2
roll moveto 6 -1 roll S lineto S lineto S lineto closepath clip newpath
moveto}N/endTexFig{end psf$SavedState restore}N/@beginspecial{SDict
begin/SpecialSave save N gsave normalscale currentpoint TR
@SpecialDefaults count/ocount X/dcount countdictstack N}N/@setspecial{
CLIP 1 eq{newpath 0 0 moveto hs 0 rlineto 0 vs rlineto hs neg 0 rlineto
closepath clip}if ho vo TR hsc vsc scale ang rotate rwiSeen{rwi urx llx
sub div rhiSeen{rhi ury lly sub div}{dup}ifelse scale llx neg lly neg TR
}{rhiSeen{rhi ury lly sub div dup scale llx neg lly neg TR}if}ifelse
CLIP 2 eq{newpath llx lly moveto urx lly lineto urx ury lineto llx ury
lineto closepath clip}if/showpage{}N/erasepage{}N/copypage{}N newpath}N
/@endspecial{count ocount sub{pop}repeat countdictstack dcount sub{end}
repeat grestore SpecialSave restore end}N/@defspecial{SDict begin}N
/@fedspecial{end}B/li{lineto}B/rl{rlineto}B/rc{rcurveto}B/np{/SaveX
currentpoint/SaveY X N 1 setlinecap newpath}N/st{stroke SaveX SaveY
moveto}N/fil{fill SaveX SaveY moveto}N/ellipse{/endangle X/startangle X
/yrad X/xrad X/savematrix matrix currentmatrix N TR xrad yrad scale 0 0
1 startangle endangle arc savematrix setmatrix}N end

%%EndProcSet
%%BeginProcSet: color.pro
%!
TeXDict begin/setcmykcolor where{pop}{/setcmykcolor{dup 10 eq{pop
setrgbcolor}{1 sub 4 1 roll 3{3 index add neg dup 0 lt{pop 0}if 3 1 roll
}repeat setrgbcolor pop}ifelse}B}ifelse/TeXcolorcmyk{setcmykcolor}def
/TeXcolorrgb{setrgbcolor}def/TeXcolorgrey{setgray}def/TeXcolorgray{
setgray}def/TeXcolorhsb{sethsbcolor}def/currentcmykcolor where{pop}{
/currentcmykcolor{currentrgbcolor 10}B}ifelse/DC{exch dup userdict exch
known{pop pop}{X}ifelse}B/GreenYellow{0.15 0 0.69 0 setcmykcolor}DC
/Yellow{0 0 1 0 setcmykcolor}DC/Goldenrod{0 0.10 0.84 0 setcmykcolor}DC
/Dandelion{0 0.29 0.84 0 setcmykcolor}DC/Apricot{0 0.32 0.52 0
setcmykcolor}DC/Peach{0 0.50 0.70 0 setcmykcolor}DC/Melon{0 0.46 0.50 0
setcmykcolor}DC/YellowOrange{0 0.42 1 0 setcmykcolor}DC/Orange{0 0.61
0.87 0 setcmykcolor}DC/BurntOrange{0 0.51 1 0 setcmykcolor}DC
/Bittersweet{0 0.75 1 0.24 setcmykcolor}DC/RedOrange{0 0.77 0.87 0
setcmykcolor}DC/Mahogany{0 0.85 0.87 0.35 setcmykcolor}DC/Maroon{0 0.87
0.68 0.32 setcmykcolor}DC/BrickRed{0 0.89 0.94 0.28 setcmykcolor}DC/Red{
0 1 1 0 setcmykcolor}DC/OrangeRed{0 1 0.50 0 setcmykcolor}DC/RubineRed{
0 1 0.13 0 setcmykcolor}DC/WildStrawberry{0 0.96 0.39 0 setcmykcolor}DC
/Salmon{0 0.53 0.38 0 setcmykcolor}DC/CarnationPink{0 0.63 0 0
setcmykcolor}DC/Magenta{0 1 0 0 setcmykcolor}DC/VioletRed{0 0.81 0 0
setcmykcolor}DC/Rhodamine{0 0.82 0 0 setcmykcolor}DC/Mulberry{0.34 0.90
0 0.02 setcmykcolor}DC/RedViolet{0.07 0.90 0 0.34 setcmykcolor}DC
/Fuchsia{0.47 0.91 0 0.08 setcmykcolor}DC/Lavender{0 0.48 0 0
setcmykcolor}DC/Thistle{0.12 0.59 0 0 setcmykcolor}DC/Orchid{0.32 0.64 0
0 setcmykcolor}DC/DarkOrchid{0.40 0.80 0.20 0 setcmykcolor}DC/Purple{
0.45 0.86 0 0 setcmykcolor}DC/Plum{0.50 1 0 0 setcmykcolor}DC/Violet{
0.79 0.88 0 0 setcmykcolor}DC/RoyalPurple{0.75 0.90 0 0 setcmykcolor}DC
/BlueViolet{0.86 0.91 0 0.04 setcmykcolor}DC/Periwinkle{0.57 0.55 0 0
setcmykcolor}DC/CadetBlue{0.62 0.57 0.23 0 setcmykcolor}DC
/CornflowerBlue{0.65 0.13 0 0 setcmykcolor}DC/MidnightBlue{0.98 0.13 0
0.43 setcmykcolor}DC/NavyBlue{0.94 0.54 0 0 setcmykcolor}DC/RoyalBlue{1
0.50 0 0 setcmykcolor}DC/Blue{1 1 0 0 setcmykcolor}DC/Cerulean{0.94 0.11
0 0 setcmykcolor}DC/Cyan{1 0 0 0 setcmykcolor}DC/ProcessBlue{0.96 0 0 0
setcmykcolor}DC/SkyBlue{0.62 0 0.12 0 setcmykcolor}DC/Turquoise{0.85 0
0.20 0 setcmykcolor}DC/TealBlue{0.86 0 0.34 0.02 setcmykcolor}DC
/Aquamarine{0.82 0 0.30 0 setcmykcolor}DC/BlueGreen{0.85 0 0.33 0
setcmykcolor}DC/Emerald{1 0 0.50 0 setcmykcolor}DC/JungleGreen{0.99 0
0.52 0 setcmykcolor}DC/SeaGreen{0.69 0 0.50 0 setcmykcolor}DC/Green{1 0
1 0 setcmykcolor}DC/ForestGreen{0.91 0 0.88 0.12 setcmykcolor}DC
/PineGreen{0.92 0 0.59 0.25 setcmykcolor}DC/LimeGreen{0.50 0 1 0
setcmykcolor}DC/YellowGreen{0.44 0 0.74 0 setcmykcolor}DC/SpringGreen{
0.26 0 0.76 0 setcmykcolor}DC/OliveGreen{0.64 0 0.95 0.40 setcmykcolor}
DC/RawSienna{0 0.72 1 0.45 setcmykcolor}DC/Sepia{0 0.83 1 0.70
setcmykcolor}DC/Brown{0 0.81 1 0.60 setcmykcolor}DC/Tan{0.14 0.42 0.56 0
setcmykcolor}DC/Gray{0 0 0 0.50 setcmykcolor}DC/Black{0 0 0 1
setcmykcolor}DC/White{0 0 0 0 setcmykcolor}DC end

%%EndProcSet
TeXDict begin 40258431 52099146 1000 600 600 (paper.dvi)
@start /Fa 147[40 7[40 100[{TeXBase1Encoding ReEncodeFont}2
66.4176 /Courier rf
%DVIPSBitmapFont: Fb cmr10 10 3
/Fb 3 56 df<EB03F8EB1FFF90387E0FC09038F803E03901E000F0484813780007147C48
487FA248C77EA2481580A3007EEC0FC0A600FE15E0B3007E15C0A4007F141F6C1580A36C
15006D5B000F143EA26C6C5B6C6C5B6C6C485A6C6C485A90387E0FC0D91FFFC7FCEB03F8
233A7DB72A>48 D<EC3FC0903801FFF0010713FC90380FE03E90383F800790387E001F49
EB3F804848137F485AA2485A000FEC3F0049131E001F91C7FCA2485AA3127F90C9FCEB01
FC903807FF8039FF1E07E090383801F0496C7E01607F01E0137E497FA249148016C0151F
A290C713E0A57EA56C7E16C0A2121FED3F807F000F15006C6C5B15FE6C6C5B6C6C485A39
00FE07F090383FFFC06D90C7FCEB03FC233A7DB72A>54 D<12301238123E003FB612E0A3
16C05A168016000070C712060060140E5D151800E01438485C5D5DC712014A5A92C7FC5C
140E140C141C5CA25CA214F0495AA21303A25C1307A2130FA3495AA3133FA5137FA96DC8
FC131E233B7BB82A>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fc cmmi7 7 3
/Fc 3 81 df<4AB41308020FEBE01891397F80F038903A01F8001870D903E0EB0CF0D90F
80130749C71203013E15E05B491401485A484815C0485A120F5B001F168090C8FC4892C7
FCA2127EA4127C12FCA21606007C5DA35E007E5D123E5E6C5D6C6C495A00074AC7FCD803
E0130E6C6C13383900FE01F090383FFFC0D907FCC8FC2D2A7DA830>67
D<D93FFC903801FFF88001019138001F006E141E170C902603BF80131C1718EC1FC0A249
6C6C1338173090380607F0A290260E03F81370176090380C01FCA290261C00FE13E05F01
18137FA20138EB3F81031F5B013014C1150F017014E3030790C7FC016014F3150301E014
FF6F5A5B15001201167C5B486C143C1207D8FFFC1418A235287DA735>78
D<013FB512F816FF903A01FC001FC04AEB07E0EE01F0010315F816005CA2130716015CA2
010FEC03F0A24AEB07E0EE0FC0011FEC1F80EE3E0091388001FC91B512E093C7FCD93F80
C8FC91C9FCA35B137EA313FE5BA312015BA21203B512C0A22D287DA72A>80
D E
%EndDVIPSBitmapFont
/Fd 135[42 60 1[42 23 32 28 2[42 42 65 23 2[23 1[42 1[37
42 37 1[37 12[51 46 2[46 10[51 27[28 28 40[{
.167 SlantFont TeXBase1Encoding ReEncodeFont}22 83.022
/Times-Roman rf /Fe 130[45 1[45 45 45 45 45 45 45 45
45 45 1[45 45 45 45 45 2[45 45 45 45 45 45 45 45 45 1[45
1[45 45 45 45 45 45 45 1[45 45 45 45 1[45 45 45 45 45
2[45 45 1[45 45 45 45 45 45 2[45 45 45 45 45 2[45 2[45
1[45 45 45 45 45 45 45 45 45 45 45 1[45 45 1[45 45 45
33[{TeXBase1Encoding ReEncodeFont}73 74.7198 /Courier
rf
%DVIPSBitmapFont: Ff cmsy10 10 2
/Ff 2 34 df<0060150600F8150F6C151F007E153F6C157E6C6C14FC6C6CEB01F86C6CEB
03F06C6CEB07E06C6CEB0FC06C6CEB1F80017EEB3F006D137E6D6C5A90380FC1F8903807
E3F0903803F7E06DB45A6D5B6EC7FCA24A7E497F903803F7E0903807E3F090380FC1F890
381F80FC90383F007E017E7F49EB1F804848EB0FC04848EB07E04848EB03F04848EB01F8
4848EB00FC48C8127E007E153F48151F48150F00601506282874A841>2
D<181EA4181F84A285180785727EA2727E727E85197E85F11F80F10FC0F107F0007FBA12
FCBCFCA26C19FCCCEA07F0F10FC0F11F80F13F00197E61614E5A4E5AA24E5A61180F96C7
FCA260181EA4482C7BAA53>33 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fg cmsy7 7 1
/Fg 1 49 df<13E0EA01F0EA03F8A3EA07F0A313E0A2120F13C0A3EA1F80A21300A25A12
3EA35AA3127812F8A25A12100D1E7D9F13>48 D E
%EndDVIPSBitmapFont
/Fh 133[44 50 50 1[50 55 33 39 44 1[55 50 55 83 3[28
1[50 1[44 55 44 1[50 13[55 2[61 78 6[78 2[66 2[66 13[50
50 50 50 2[25 46[{TeXBase1Encoding ReEncodeFont}29 99.6264
/Times-Bold rf /Fi 103[50 31[50 2[50 50 50 50 1[50 50
50 50 50 2[50 50 50 50 50 50 50 1[50 8[50 7[50 50 9[50
10[50 6[50 50 50 50 50 50 50 50 2[50 50 40[{
TeXBase1Encoding ReEncodeFont}34 83.022 /Courier rf /Fj
105[33 46[33 3[29 1[33 12[37 3[41 48 2[37 29[17 46[{
TeXBase1Encoding ReEncodeFont}9 66.4176 /Times-Italic
rf /Fk 204[25 25 25 49[{TeXBase1Encoding ReEncodeFont}3
49.8132 /Times-Roman rf
%DVIPSBitmapFont: Fl cmmi10 10 8
/Fl 8 122 df<150C151E153EA2153C157CA2157815F8A215F01401A215E01403A215C0
1407A21580140FA215005CA2141E143EA2143C147CA2147814F8A25C1301A25C1303A249
5AA25C130FA291C7FC5BA2131E133EA2133C137CA2137813F8A25B1201A25B1203A25B12
07A25B120FA290C8FC5AA2121E123EA2123C127CA2127812F8A25A12601F537BBD2A>61
D<0103B77E4916F018FC903B0007F80003FE4BEB00FFF07F80020FED3FC0181F4B15E0A2
141FA25DA2143F19C04B143F1980027F157F190092C812FE4D5A4A4A5AEF0FF04AEC1FC0
05FFC7FC49B612FC5F02FCC7B4FCEF3FC00103ED0FE0717E5C717E1307844A1401A2130F
17035CA2131F4D5A5C4D5A133F4D5A4A4A5A4D5A017F4BC7FC4C5A91C7EA07FC49EC3FF0
B812C094C8FC16F83B397DB83F>66 D<0107B512FCA216F890390007F8005DA2140FA25D
A2141FA25DA2143FA25DA2147FA292C7FCA25CA25CA21301A25CA21303A25CA21307A25C
A2130FA25CA2131FA25CA2133FA25CA2137FA291C8FC497EB6FCA326397DB824>73
D<0003B812FEA25A903AF8003FC00101C0913880007E4848163C90C7007F141C121E001C
92C7FCA2485CA200305C007017180060130112E0485CA21403C716005DA21407A25DA214
0FA25DA2141FA25DA2143FA25DA2147FA292C9FCA25CA25CA21301A25CA21303A25CEB0F
FC003FB6FC5AA237397EB831>84 D<D803E0017F14FE3D07F801FFE003FFC03D0E3C0781
F00F03E03D1C3E1E00F83C01F026383F38D9FC707F00304914E04A90387DC000007049EB
7F8000604991C7FCA200E090C700FE1301485A017E5CA200000201140301FE5F495CA203
031407000160495C180F03075D1203494A011F13601980030F023F13E00007F000C0495C
1901031F023E1380000F1803494A150061033F150E001FEF1E1C4991C7EA0FF80007C700
0EEC03E043267EA449>109 D<D803E0137F3A07F801FFE03A0E3C0781F03A1C3E1E00F8
26383F387F00305B4A137C00705B00605BA200E090C712FC485A137EA20000140101FE5C
5BA2150300015D5B15075E120349010F133016C0031F13700007ED80605B17E0EE00C000
0F15014915801603EE0700001FEC0F0E49EB07FC0007C7EA01F02C267EA432>I<903907
E001F090391FF807FC9039783E0E0F9039E01F1C1FD801C09038383F803A03800FF07F01
00EBE0FF5A000E4A1300000C157E021F133C001C4AC7FC1218A2C7123FA292C8FCA25CA2
147EA214FEA24A130CA20101141C001E1518003F5BD87F81143801835C00FF1560010714
E03AFE0E7C01C0D87C1C495A2778383E0FC7FC391FF00FFC3907C003F029267EA42F>
120 D<13F8D803FE1470D8070F14F8000EEB8001121C121800381403003015F0EA701F12
60013F130700E0010013E012C05BD8007E130F16C013FE5B151F000115805BA2153F0003
15005BA25D157EA315FE5D1401000113033800F80790387C1FF8EB3FF9EB0FE1EB00035D
A2000E1307D83F805B007F495AA24A5A92C7FCEB003E007C5B00705B6C485A381E07C06C
B4C8FCEA01FC25367EA429>I E
%EndDVIPSBitmapFont
/Fm 204[29 29 29 49[{TeXBase1Encoding ReEncodeFont}3
58.1154 /Times-Roman rf /Fn 134[33 33 48 33 33 18 26
22 33 33 33 33 52 18 33 1[18 33 33 22 29 33 29 33 29
9[63 1[48 41 37 44 1[37 48 48 59 41 2[22 48 1[37 41 1[44
1[48 5[18 1[33 33 33 33 33 33 33 33 33 33 1[17 22 17
41[37 2[{TeXBase1Encoding ReEncodeFont}55 66.4176 /Times-Roman
rf
%DVIPSBitmapFont: Fo cmsy6 6 1
/Fo 1 4 df<136013701360A20040132000E0137038F861F0387E67E0381FFF803807FE
00EA00F0EA07FE381FFF80387E67E038F861F038E060700040132000001300A213701360
14157B9620>3 D E
%EndDVIPSBitmapFont
/Fp 104[74 28[32 37 37 55 37 42 23 32 32 1[42 42 42 60
23 37 23 23 42 42 23 37 42 37 42 42 9[69 2[46 42 51 1[51
60 55 69 46 1[37 28 60 60 51 51 60 55 51 51 6[28 42 42
42 42 1[42 42 42 42 42 1[21 28 21 2[28 28 28 36[42 2[{
TeXBase1Encoding ReEncodeFont}62 83.022 /Times-Italic
rf /Fq 87[28 16[83 42 1[37 37 24[37 42 42 60 42 42 23
32 28 42 42 42 42 65 23 42 23 23 42 42 28 37 42 37 42
37 3[28 1[28 1[60 1[78 60 60 51 46 55 1[46 60 60 74 51
60 32 28 60 60 46 51 60 55 55 60 1[37 3[23 23 42 42 42
42 42 42 42 42 42 42 23 21 28 21 2[28 28 28 65 69 3[28
29[46 46 2[{TeXBase1Encoding ReEncodeFont}81 83.022 /Times-Roman
rf /Fr 135[60 1[60 66 40 47 53 1[66 60 66 100 33 66 1[33
66 60 40 53 66 53 66 60 12[80 1[86 1[73 93 2[80 2[47
3[80 1[86 1[86 6[40 3[60 60 60 60 60 60 3[40 42[66 2[{
TeXBase1Encoding ReEncodeFont}39 119.552 /Times-Bold
rf /Fs 133[60 60 3[60 1[60 60 2[60 60 60 60 2[60 1[60
1[60 60 60 60 60 32[60 17[60 1[60 44[{TeXBase1Encoding ReEncodeFont}19
99.6264 /Courier rf /Ft 133[39 44 2[44 50 28 39 39 1[50
50 50 72 3[28 50 1[28 44 1[44 1[50 6[55 4[72 55 50 14[72
66 1[61 8[50 50 1[50 2[50 50 4[25 44[{TeXBase1Encoding ReEncodeFont}30
99.6264 /Times-Italic rf /Fu 134[50 1[72 1[50 28 39 33
2[50 50 78 28 50 1[28 1[50 1[44 50 44 50 44 13[55 2[55
2[89 5[72 1[61 72 2[72 6[28 58[{TeXBase1Encoding ReEncodeFont}26
99.6264 /Times-Roman rf
%DVIPSBitmapFont: Fv cmsy10 12 3
/Fv 3 104 df<147014F8A81470007815F0007C1401B4EC07F8D87F80EB0FF0D83FE0EB
3FE0D80FF0EB7F80D803F8EBFE003900FE73F890383F77E090380FFF80D903FEC7FCEB00
F8EB03FE90380FFF8090383F77E09038FE73F83903F870FED80FF0EB7F80D83FE0EB3FE0
D87F80EB0FF0D8FF00EB07F8007CEC01F000781400C7140014F8A81470252B7AAD32>3
D<ED0FE015FF913803FC00EC0FE0EC3FC04A5A4AC7FC5C495AA2495AB3AD495AA2495A13
1F495A495A01FEC8FCEA07F8EAFFE0A2EA07F8EA00FEEB7F806D7E6D7E130F6D7EA26D7E
B3AD6D7EA26D7E806E7E6E7EEC0FE0EC03FC913800FFE0150F236479CA32>102
D<12FEEAFFE0EA07F8EA00FEEB7F806D7E6D7E130F6D7EA26D7EB3AD6D7EA26D7E806E7E
6E7EEC0FE0EC03FC913800FFE0A2913803FC00EC0FE0EC3FC04A5A4AC7FC5C495AA2495A
B3AD495AA2495A131F495A495A01FEC8FCEA07F8EAFFE048C9FC236479CA32>I
E
%EndDVIPSBitmapFont
/Fw 140[56 48 2[72 72 112 40 72 1[40 72 72 1[64 1[64
1[64 16[80 12[96 64[80 2[{TeXBase1Encoding ReEncodeFont}16
143.462 /Times-Roman rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin

%%EndSetup
%%Page: 1 1
1 0 bop Black Black Black Black Black 1154 238 a Fw(Checking)34
b(Program)g(Pro\002les)2710 186 y Fv(\003)780 479 y Fu(P)o(atrick)24
b(Mosele)o(y)169 b(Saumya)25 b(Debray)170 b(Gre)o(gory)24
b(Andre)n(ws)1283 595 y Ft(Department)g(of)h(Computer)f(Science)1433
711 y(The)i(Univer)o(sity)e(of)g(Arizona)1471 827 y(T)-5
b(ucson,)25 b(AZ)g(85721,)f(USA)675 943 y Fu(Email:)29
b Fv(f)p Fs(moseley,)58 b(debray,)g(greg)p Fv(g)p Fs(@cs.arizona.edu)p
Black -118 1360 a Fr(Abstract)-118 1523 y Fq(Ex)o(ecution)20
b(pro\002les)j(ha)n(v)o(e)f(become)f(increasingly)g(important)g(for)
-118 1623 y(guiding)k(code)h(optimization.)44 b(Ho)n(we)n(v)o(er)m(,)26
b(little)i(has)f(been)f(done)-118 1723 y(to)c(de)n(v)o(elop)f(w)o(ays)h
(to)h(check)e(automatically)g(that)h(a)h(pro\002le)f(does,)-118
1822 y(in)j(f)o(act,)g(re\003ect)g(the)f(actual)h(e)o(x)o(ecution)d
(beha)n(vior)h(of)h(a)h(program.)-118 1922 y(This)c(paper)f(describes)h
(a)h(frame)n(w)o(ork)d(that)i(uses)h(program)d(moni-)-118
2021 y(toring)f(techniques)g(in)i(a)f(w)o(ay)h(that)f(allo)n(ws)h(the)f
(automatic)f(check-)-118 2121 y(ing)24 b(of)f(a)i(wide)f(v)n(ariety)f
(of)h(pro\002le)f(data.)37 b(W)-7 b(e)25 b(also)g(describe)e(our)-118
2221 y(e)o(xperiences)32 b(with)i(using)g(an)g(instance)g(of)f(this)i
(frame)n(w)o(ork)d(to)-118 2320 y(check)f(edge)g(pro\002les.)60
b(The)31 b(pro\002le)h(check)o(er)e(unco)o(v)o(ered)f(pro-)-118
2420 y(\002ling)37 b(anomalies)f(that)h(were)g(pre)n(viously)e(unkno)n
(wn)g(and)h(that)-118 2520 y(w)o(ould)d(ha)n(v)o(e)f(been)h(v)o(ery)f
(dif)n(\002cult)h(to)h(identify)e(using)h(e)o(xisting)-118
2619 y(techniques.)-118 2893 y Fr(1)119 b(Intr)n(oduction)-118
3056 y Fq(Pro\002ling)27 b(is)i(commonly)d(used)h(to)i(measure)e
(aspects)h(of)g(perfor)n(-)-118 3155 y(mance.)57 b(Programmers)29
b(use)j(high-le)n(v)o(el)d(tools,)k(such)e(as)h Fp(gpr)l(of)-118
3255 y Fq([12)o(],)25 b(that)g(sample)g(the)g(program)d(counter)h(in)i
(order)f(to)h(estimate)-118 3355 y(ho)n(w)g(much)g(time)i(is)g(spent)e
(in)i(each)e(function.)41 b(Compilers)26 b(no)n(w)-118
3454 y(routinely)i(use)j(pro\002le)e(information)f(such)h(as)i(basic)g
(block)e(and)-118 3554 y(edge)24 b(counts)g(to)h(direct)g(a)g(wide)g(v)
n(ariety)f(of)g(code)g(optimizations)-118 3654 y([6)o(,)c(7)o(,)g(9)o
(,)g(10)o(,)f(11)o(,)h(20)o(].)k(Finally)-5 b(,)19 b(man)o(y)f
(processors)g(contain)g(hard-)-118 3753 y(w)o(are)30
b(performance)c(counters)j(that)h(measure)e(lo)n(w-le)n(v)o(el)h(e)n(v)
o(ents)-118 3853 y(such)20 b(as)h(cache)e(misses)j(and)d(branch)g
(mispredictions.)-35 3956 y(This)j(paper)f(addresses)h(an)g(issue)h
(that)f(occurs)f(in)h(pro\002les)g(that)-118 4056 y(are)f(generated)e
(and)i(used)g(by)f(compilers)g(and)h(related)f(tools)h(such)-118
4156 y(as)30 b(link-time)d(optimizers.)51 b(These)28
b(kinds)h(of)f(pro\002les)h(typically)-118 4255 y(associate)h(runtime)e
(e)o(x)o(ecution)f(counts)i(with)h(components)d(of)j(a)-118
4355 y(program,)21 b(e.g.,)h(basic)h(blocks,)f(control)f(\003o)n(w)i
(edges,)f(or)h(paths)f(in)-118 4455 y(a)f(control)f(\003o)n(w)g(graph.)
26 b(The)20 b(speci\002c)h(focus)f(of)g(this)i(paper)d(is)j(the)-118
4554 y(follo)n(wing)27 b(question:)42 b(Ho)n(w)28 b(can)h(one)f(tell)i
(whether)e(the)h(counts)-118 4654 y(generated)16 b(by)h(a)h(pro\002ler)
f(accurately)f(re\003ect)i(the)g(beha)n(vior)e(of)h(the)-118
4753 y(program)h(being)h(pro\002led?)-35 4857 y(Interestingly)-5
b(,)36 b(while)f(there)f(has)h(been)f(a)i(great)e(deal)h(of)f(re-)-118
4957 y(search)28 b(on)h(testing)g(programs)e(\(e.g.,)i(see)h([8)o(,)f
(15)o(,)g(17)o(,)g(21)o(]\),)i(the)-118 5056 y(question)17
b(of)h(testing)g(program)e(pro\002lers)i(has)h(recei)n(v)o(ed)d(relati)
n(v)o(ely)p Black -118 5143 785 4 v -35 5196 a Fo(\003)1
5220 y Fn(This)j(w)o(ork)g(w)o(as)g(supported)h(in)f(part)h(by)f(the)g
(National)i(Science)g(F)o(oundation)-118 5299 y(under)d(grants)g
(CCR-0073394,)g(EIA-0080123,)g(and)f(CCR-0113633.)p Black
Black Black 2055 1360 a Fq(little)i(attention.)24 b(From)17
b(our)h(o)n(wn)f(e)o(xperience)f(and)i(what)g(we)h(ha)n(v)o(e)2055
1460 y(learned)25 b(from)f(others,)i(the)g(pre)n(v)n(ailing)d(practice)
i(in)h(testing)f(pro-)2055 1559 y(\002lers)33 b(is)f(v)o(ery)f
Fp(ad)g(hoc)p Fq(:)48 b(\223e)o(yeball\224)31 b(the)h(pro\002ling)e
(code,)k(mak)o(e)2055 1659 y(sure)17 b(the)g(pro\002ling)f(and)g
(original)g(v)o(ersion)g(of)h(a)g(program)e(produce)2055
1759 y(the)k(same)h(\223re)o(gular\224)d(output,)i(generate)f(e)o
(xpected)f(pro\002le)i(counts)2055 1858 y(manually)j(for)h(a)h(fe)n(w)f
(sample)h(programs,)e(and)h(check)g(that)g(these)2055
1958 y(match)c(the)h(pro\002ler)n(-generated)d(counts)i(for)g(the)h
(same)g(programs.)2055 2058 y(This)k(is)g(hardly)e(a)h(satisf)o(actory)
g(situation.)34 b(First,)25 b(it)f(is)g(time)f(con-)2055
2157 y(suming)i(and)f(error)h(prone.)39 b(Second,)25
b(it)h(is)g(feasible)f(to)h(compute)2055 2257 y(e)o(x)o(ecution)14
b(counts)i(manually)e(only)i(for)f(a)i(small)g(number)d(of)i(small)2055
2356 y(programs\227especially)g(if)k(one)e(is)i(looking)e(at)i(comple)o
(x)d(pro\002les,)2055 2456 y(such)g(as)h(for)e(type)h(feedback)e(in)j
(object-oriented)c(languages)i([14)n(],)2055 2556 y(edge-pair)24
b(pro\002ling)g([18)o(],)j(or)e(path)g(pro\002ling)f([4)o(].)42
b(This)26 b(means)2055 2655 y(that)16 b(pro\002ling)f(b)n(ugs)g(that)h
(sho)n(w)g(up)f(only)g(on)h(lar)o(ge)f(inputs)g(will)i(not)2055
2755 y(be)26 b(detected.)40 b(Finally)-5 b(,)27 b(erroneous)c(results)j
(can)g(result)g(from)e(the)2055 2855 y(f)o(act)c(that)h(compiler)n
(-generated)16 b(pro\002ling)j(is)i(intrusi)n(v)o(e:)j(It)c(inserts)
2055 2954 y(pro\002ling)26 b(code)h(in)g(the)g(program)e(being)i
(pro\002led,)g(which)g(alters)2055 3054 y(the)f(memory)e(layout)h(of)g
(the)h(original)e(program)g(and)h(hence)g(can)2055 3153
y(alter)20 b(its)i(beha)n(vior)-5 b(.)2630 3123 y Fm(1)2138
3260 y Fq(A)24 b(signi\002cant)f(reason)f(why)g(the)i(testing)f(of)g
(program)e(pro\002les)2055 3360 y(is)f(more)f(dif)n(\002cult)f(than)h
(con)m(v)o(entional)d(program)h(testing)i(is)h(that)g(it)2055
3460 y(deals)28 b(with)g(a)h(fundamentally)c(dif)n(ferent)h(vie)n(w)i
(of)f(program)f(e)o(x-)2055 3559 y(ecution.)62 b(Con)m(v)o(entional)30
b(program)g(testing)j(tak)o(es)g(the)g(denota-)2055 3659
y(tional)25 b(vie)n(w)g(that)h(what)f(is)h(signi\002cant)f(about)g(a)g
(computation)e(is)2055 3759 y Fp(what)h Fq(is)g(computed,)f(i.e.,)h
(the)g(output)e(produced)f(for)i(a)h(gi)n(v)o(en)f(in-)2055
3858 y(put.)i(Therefore)17 b(con)m(v)o(entional)g(testing)j(focuses)f
(on)h(ascertaining)2055 3958 y(that)28 b(these)h(outputs)e(are)h(being)
g(computed)e(correctly)-5 b(.)47 b(Pro\002les,)2055 4057
y(by)24 b(contrast,)g(capture)e(an)i(operational)e(vie)n(w)i(of)g(a)g
(computation,)2055 4157 y(where)32 b(the)g(property)e(of)i(interest)h
(is)g Fp(how)f Fq(the)g(computation)e(is)2055 4257 y(carried)22
b(out.)33 b(Because)23 b(of)f(this,)i(in)f(order)f(to)h(check)f(a)h
(program')-5 b(s)2055 4356 y(e)o(x)o(ecution)18 b(pro\002le,)h(it)i(is)
g(necessary)f(to)g(observ)o(e)f(the)h(actual)g(com-)2055
4456 y(putation)f(of)h(the)g(program,)e(not)i(just)g(the)h(end)e
(result.)2138 4563 y(An)37 b(e)o(x)o(ecution)e(pro\002le)i(is)h(in)f
(essence)h(a)f(set)h(of)f(assertions)2055 4663 y(about)28
b(the)h(e)o(x)o(ecution)d(of)j(a)g(program)e(on)h(some)h(speci\002c)g
(set)h(of)2055 4762 y(inputs,)e(e.g.,)f(\223basic)g(block)e
Fl(x)j Fq(is)g(e)o(x)o(ecuted)c Fl(m)j Fq(times\224)g(or)g(\223pro-)
2055 4862 y(gram)21 b(path)h Fl(y)j Fq(is)e(tak)o(en)f
Fl(n)g Fq(times.)-6 b(\224)31 b(W)-7 b(e)23 b(w)o(ould)f(lik)o(e)g(to)g
(be)g(able)g(to)2055 4961 y(check,)g(automatically)f(and)h(for)g
(arbitrary)f(programs,)g(that)h(these)p Black 2055 5062
V 2146 5117 a Fk(1)2175 5141 y Fn(This)15 b(in)i(f)o(act)g(happens)h
(in)e(the)h Fj(gcc)g Fn(benchmark)g(that)h(is)e(part)h(of)f(the)g
(SPEC-95)2055 5220 y(benchmark)g(suite.)k(W)-5 b(e)13
b(disco)o(v)o(ered)j(this)f(using)f(our)g(pro\002le)h(check)o(er;)i
(see)d(Section)2055 5299 y(5)j(for)g(details.)p Black
Black 1928 5548 a Fq(1)p Black eop
%%Page: 2 2
2 1 bop Black Black Black Black Black Black Black 189
591 a @beginspecial 0 @llx 0 @lly 190 @urx 84 @ury 850
@rwi @setspecial
%%BeginDocument: normal-exec.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: normal-exec.eps
%%Creator: fig2dev Version 3.2 Patchlevel 3d
%%CreationDate: Sun Sep 15 06:22:42 2002
%%For: debray@P-debray.CS.Arizona.EDU (Saumya K. Debray)
%%BoundingBox: 0 0 190 84
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
newpath 0 84 moveto 0 0 lineto 190 0 lineto 190 84 lineto closepath clip newpath
-324.0 235.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
 0.06000 0.06000 sc
%
% Fig objects follow
%
% Polyline
7.500 slw
n 5685 2535 m 5415 2535 5415 2880 270 arcto 4 {pop} repeat
  5415 3150 6630 3150 270 arcto 4 {pop} repeat
  6900 3150 6900 2805 270 arcto 4 {pop} repeat
  6900 2535 5685 2535 270 arcto 4 {pop} repeat
 cp gs col0 s gr 
/Times-Roman ff 300.00 scf sf
5880 2925 m
gs 1 -1 sc (a.out) col0 sh gr
% Polyline
gs  clippath
7515 2902 m 7515 2797 l 7217 2797 l 7480 2850 l 7217 2902 l cp
eoclip
n 6915 2850 m
 7500 2850 l gs col0 s gr gr

% arrowhead
n 7217 2902 m 7480 2850 l 7217 2797 l 7270 2850 l 7217 2902 l 
 cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
6210 3150 m 6120 3150 l 6120 3369 l 6165 3182 l 6210 3369 l cp
eoclip
n 6165 3585 m
 6165 3165 l gs col0 s gr gr

% arrowhead
n 6210 3369 m 6165 3182 l 6120 3369 l 6165 3332 l 6210 3369 l 
 cp gs 0.00 setgray ef gr  col0 s
/Times-Roman ff 300.00 scf sf
7575 2940 m
gs 1 -1 sc (data.gen) col0 sh gr
/Times-Roman ff 300.00 scf sf
5400 3840 m
gs 1 -1 sc (profile_data.in) col0 sh gr
$F2psEnd
rs

%%EndDocument
 @endspecial Black Black 1137 759 a @beginspecial 0 @llx
0 @lly 334 @urx 153 @ury 1700 @rwi @setspecial
%%BeginDocument: genprof.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: genprof.eps
%%Creator: fig2dev Version 3.2 Patchlevel 3d
%%CreationDate: Sun Sep 15 06:23:56 2002
%%For: debray@P-debray.CS.Arizona.EDU (Saumya K. Debray)
%%BoundingBox: 0 0 334 153
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
newpath 0 153 moveto 0 0 lineto 334 0 lineto 334 153 lineto closepath clip newpath
-205.4 232.3 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
 0.06000 0.06000 sc
%
% Fig objects follow
%
% Polyline
7.500 slw
n 3705 1335 m 3435 1335 3435 1680 270 arcto 4 {pop} repeat
  3435 1950 4650 1950 270 arcto 4 {pop} repeat
  4920 1950 4920 1605 270 arcto 4 {pop} repeat
  4920 1335 3705 1335 270 arcto 4 {pop} repeat
 cp gs col0 s gr 
/Times-Roman ff 300.00 scf sf
3900 1725 m
gs 1 -1 sc (a.out) col0 sh gr
% Polyline
n 3600 2400 m 4800 2400 l 4800 3285 l 3600 3285 l
 cp gs col0 s gr 
% Polyline
n 5670 2550 m 5400 2550 5400 2895 270 arcto 4 {pop} repeat
  5400 3165 6615 3165 270 arcto 4 {pop} repeat
  6885 3165 6885 2820 270 arcto 4 {pop} repeat
  6885 2550 5670 2550 270 arcto 4 {pop} repeat
 cp gs col0 s gr 
% Polyline
gs  clippath
5400 2887 m 5400 2782 l 5102 2782 l 5365 2835 l 5102 2887 l cp
eoclip
n 4800 2835 m
 5385 2835 l gs col0 s gr gr

% arrowhead
n 5102 2887 m 5365 2835 l 5102 2782 l 5155 2835 l 5102 2887 l 
 cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
7485 2752 m 7485 2647 l 7187 2647 l 7450 2700 l 7187 2752 l cp
eoclip
n 6885 2700 m
 7470 2700 l gs col0 s gr gr

% arrowhead
n 7187 2752 m 7450 2700 l 7187 2647 l 7240 2700 l 7187 2752 l 
 cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
7470 3037 m 7470 2932 l 7172 2932 l 7435 2985 l 7172 3037 l cp
eoclip
n 6870 2985 m
 7455 2985 l gs col0 s gr gr

% arrowhead
n 7172 3037 m 7435 2985 l 7172 2932 l 7225 2985 l 7172 3037 l 
 cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
6195 3165 m 6105 3165 l 6105 3384 l 6150 3197 l 6195 3384 l cp
eoclip
n 6150 3600 m
 6150 3180 l gs col0 s gr gr

% arrowhead
n 6195 3384 m 6150 3197 l 6105 3384 l 6150 3347 l 6195 3384 l 
 cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
4155 2415 m 4245 2415 l 4245 2195 l 4200 2383 l 4155 2195 l cp
eoclip
n 4200 1980 m
 4200 2400 l gs col0 s gr gr

% arrowhead
n 4155 2195 m 4200 2383 l 4245 2195 l 4200 2233 l 4155 2195 l 
 cp gs 0.00 setgray ef gr  col0 s
/Times-Roman ff 300.00 scf sf
3825 2925 m
gs 1 -1 sc (profiler) col0 sh gr
/Times-Roman ff 300.00 scf sf
5610 2925 m
gs 1 -1 sc (a.instr.out) col0 sh gr
/Times-Roman ff 300.00 scf sf
7560 3105 m
gs 1 -1 sc (a.out.counts) col0 sh gr
/Times-Roman ff 300.00 scf sf
7545 2760 m
gs 1 -1 sc (data.gen) col0 sh gr
/Times-Roman ff 300.00 scf sf
5370 3795 m
gs 1 -1 sc (profile_data.in) col0 sh gr
$F2psEnd
rs

%%EndDocument
 @endspecial Black Black 2779 861 a @beginspecial 0 @llx
0 @lly 250 @urx 226 @ury 1133 @rwi @setspecial
%%BeginDocument: verify.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: verify.eps
%%Creator: fig2dev Version 3.2 Patchlevel 3d
%%CreationDate: Mon Sep 16 13:16:21 2002
%%For: debray@hedgehog.cs.arizona.edu (Saumya K. Debray)
%%BoundingBox: 0 0 250 226
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
newpath 0 226 moveto 0 0 lineto 250 0 lineto 250 226 lineto closepath clip newpath
-146.7 314.2 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
 0.06000 0.06000 sc
%
% Fig objects follow
%
% Polyline
7.500 slw
n 3105 3885 m 2835 3885 2835 4230 270 arcto 4 {pop} repeat
  2835 4500 4050 4500 270 arcto 4 {pop} repeat
  4320 4500 4320 4155 270 arcto 4 {pop} repeat
  4320 3885 3105 3885 270 arcto 4 {pop} repeat
 cp gs col0 s gr 
/Times-Roman ff 300.00 scf sf
3300 4275 m
gs 1 -1 sc (a.out) col0 sh gr
/Times-Italic ff 240.00 scf sf
2445 3390 m
gs 1 -1 sc (execution) col0 sh gr
/Times-Italic ff 240.00 scf sf
2565 3660 m
gs 1 -1 sc (control) col0 sh gr
% Polyline
gs  clippath
3645 4485 m 3555 4485 l 3555 4704 l 3600 4517 l 3645 4704 l cp
eoclip
n 3600 4920 m
 3600 4500 l gs col0 s gr gr

% arrowhead
n 3645 4704 m 3600 4517 l 3555 4704 l 3600 4667 l 3645 4704 l 
 cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
4935 4267 m 4935 4162 l 4637 4162 l 4900 4215 l 4637 4267 l cp
eoclip
n 4335 4215 m
 4920 4215 l gs col0 s gr gr

% arrowhead
n 4637 4267 m 4900 4215 l 4637 4162 l 4690 4215 l 4637 4267 l 
 cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
3570 2130 m 3660 2130 l 3660 1910 l 3615 2098 l 3570 1910 l cp
eoclip
n 3615 1695 m
 3615 2115 l gs col0 s gr gr

% arrowhead
n 3570 1910 m 3615 2098 l 3660 1910 l 3615 1948 l 3570 1910 l 
 cp gs 0.00 setgray ef gr  col0 s
% Polyline
n 3015 2085 m 4215 2085 l 4215 2970 l 3015 2970 l
 cp gs col0 s gr 
% Polyline
gs  clippath
4830 2572 m 4830 2467 l 4532 2467 l 4795 2520 l 4532 2572 l cp
eoclip
n 4230 2520 m
 4815 2520 l gs col0 s gr gr

% arrowhead
n 4532 2572 m 4795 2520 l 4532 2467 l 4585 2520 l 4532 2572 l 
 cp gs 0.00 setgray ef gr  col0 s
% Polyline
60.000 slw
gs  clippath
3510 3900 m 3690 3900 l 3690 3552 l 3600 3834 l 3510 3552 l cp
eoclip
n 3600 2985 m
 3600 3885 l gs col0 s gr gr

% arrowhead
30.000 slw
n 3510 3552 m 3600 3834 l 3690 3552 l 3600 3609 l 3510 3552 l 
 cp gs 0.00 setgray ef gr  col0 s
/Times-Roman ff 300.00 scf sf
3240 2610 m
gs 1 -1 sc (verifier) col0 sh gr
/Times-Roman ff 300.00 scf sf
2925 1635 m
gs 1 -1 sc (a.out.counts) col0 sh gr
/Times-Roman ff 300.00 scf sf
2820 5160 m
gs 1 -1 sc (profile_data.in) col0 sh gr
/Times-Roman ff 300.00 scf sf
5055 4275 m
gs 1 -1 sc (data.gen) col0 sh gr
/Times-Roman ff 300.00 scf sf
5025 2250 m
gs 1 -1 sc (diagnostics) col0 sh gr
/Times-Roman ff 300.00 scf sf
5520 2475 m
gs 1 -1 sc (+) col0 sh gr
/Times-Roman ff 300.00 scf sf
5040 2955 m
gs 1 -1 sc (output) col0 sh gr
/Times-Roman ff 300.00 scf sf
5040 2715 m
gs 1 -1 sc (verification   ) col0 sh gr
$F2psEnd
rs

%%EndDocument
 @endspecial Black Black Black Black 189 1218 a Fq(\(a\))20
b(Normal)g(e)o(x)o(ecution)p Black Black 1490 1217 a(\(b\))g(Pro\002le)
g(generation)p Black Black 2885 1218 a(\(c\))g(Pro\002le)g(v)o
(eri\002cation)p Black 925 1467 a(Figure)g(1:)25 b(Normal)20
b(e)o(x)o(ecution,)e(pro\002ling,)g(and)i(pro\002le)f(v)o
(eri\002cation)p Black Black -118 1734 a(assertions)e(are)h
(correct\227i.e.,)e(that)h(when)g(e)o(x)o(ecuted)f(on)h(the)g(same)-118
1834 y(set)k(of)f(inputs,)g(basic)h(block)e Fl(x)j Fq(is,)f(in)g(f)o
(act,)f(e)o(x)o(ecuted)f Fl(m)i Fq(times,)f(or)-118 1934
y(that)i(program)e(path)i Fl(y)k Fq(is)d(tak)o(en)f Fl(n)h
Fq(times.)31 b(The)22 b(issue)h(here)f(is)h(not)-118
2033 y(that)30 b(we)g(must)g(ha)n(v)o(e)g(\223e)o(xact\224)f(e)o(x)o
(ecution)f(counts)h(for)h(code)f(op-)-118 2133 y(timization.)43
b(In)26 b(f)o(act,)i(se)n(v)o(eral)d(researchers)h(ha)n(v)o(e)g(observ)
o(ed)e(that)-118 2233 y(approximate)j(pro\002les)i(can)h(be)f(useful)g
(and)h(ef)n(fecti)n(v)o(e)e(for)h(opti-)-118 2332 y(mization)g
(purposes)f([2)o(,)i(5)o(,)g(13)o(];)35 b(these)29 b(pro\002les)g(are)h
(generated)-118 2432 y(and)21 b(used)h(deliberately)-5
b(,)20 b(with)j(kno)n(wledge)c(that)k(precision)e(is)i(be-)-118
2531 y(ing)30 b(sacri\002ced,)i(an)e(understanding)e(of)i(where)f(and)h
(ho)n(w)g(much)-118 2631 y(precision)23 b(is)h(lost,)h(and)e(some)h
(sense)g(of)f(ho)n(w)g(much)g(loss)i(can)e(be)-118 2731
y(tolerated.)36 b(Rather)m(,)25 b(the)f(issue)h(is)g(ho)n(w)e(to)i
(guard)e(against)g(impre-)-118 2830 y(cision)g(that)g(is)h
Fp(inadvertently)e Fq(introduced)f(as)j(a)f(consequence)e(of)-118
2930 y(b)n(ugs)16 b(in)h(the)f(pro\002ler)-5 b(.)23 b(This)17
b(kind)f(of)g(imprecision)f(is)j(unsuspected)-118 3030
y(and)i(unpredictable.)j(Thus,)d(it)h(can)g(cause,)f(for)g(e)o(xample,)
f(hea)n(vily)-118 3129 y(e)o(x)o(ecuted)j(portions)h(of)h(code)g(to)g
(appear)f(to)h(ha)n(v)o(e)g(lo)n(w)g(e)o(x)o(ecution)-118
3229 y(counts,)c(which)g(in)h(turn)f(can)h(result)g(in)g(misoptimized)e
(programs,)-118 3328 y(performance)e(anomalies,)j(and,)f(for)h
(researchers,)f(f)o(aulty)h(e)o(xperi-)-118 3428 y(mental)g(data.)-35
3566 y(This)g(paper)f(presents)h(a)g(technique)e(for)i(automatically)e
(check-)-118 3666 y(ing)36 b(man)o(y)e(dif)n(ferent)h(kinds)g(of)h
(pro\002le)f(data.)73 b(Our)35 b(approach)-118 3766 y(has)29
b(tw)o(o)g(components:)41 b(a)29 b(general)f(frame)n(w)o(ork)e(and)j(a)
g(speci\002c)-118 3865 y(check)o(er)-5 b(.)26 b(The)21
b(general)f(frame)n(w)o(ork)f(uses)i(a)g(trap-based)f(scheme,)-118
3965 y(similar)15 b(to)h(that)f(used)g(in)h(a)g(deb)n(ugger)m(,)d(to)j
(monitor)d(the)j(beha)n(vior)d(of)-118 4064 y(a)22 b(program)d(at)j
(runtime.)27 b(A)22 b(check)o(er)e(for)h(a)h(speci\002c)f(type)g(of)g
(pro-)-118 4164 y(\002le)e(data)g(is)h(then)e(b)n(uilt)h(on)g(top)f(of)
h(the)g(frame)n(w)o(ork.)j(A)e(signi\002cant)-118 4264
y(adv)n(antage)26 b(of)i(our)f(approach)f(is)j(that)f(because)f(the)h
(monitoring)-118 4363 y(code)d(runs)g(in)h(a)g(separate)g(address)f
(space,)i(the)f(program)d(whose)-118 4463 y(pro\002le)d(is)h(being)e
(check)o(ed)g(does)h(not)g(ha)n(v)o(e)g(to)h(be)f(modi\002ed.)k(This)
-118 4563 y(helps)e(a)n(v)n(oid)h(pro\002ling)e(b)n(ugs)h(that)h
(result)f(from)g(inserting)g(instru-)-118 4662 y(mentation)d(code.)-35
4800 y(W)-7 b(e)46 b(ha)n(v)o(e)e(implemented)f(the)i(general)f(frame)n
(w)o(ork)e(and)j(a)-118 4900 y(check)o(er)31 b(for)h(edge)g(pro\002les)
g(in)h(the)f(conte)o(xt)f(of)h(the)h(PL)-8 b(T)o(O)32
b(bi-)-118 5000 y(nary)25 b(re)n(writing)f(system)i([23)o(].)41
b(Section)25 b(2)h(gi)n(v)o(es)f(more)g(detailed)-118
5099 y(background)17 b(information)h(on)i(compiler)n(-le)n(v)o(el)e
(pro\002ling)h(and)g(on)-118 5199 y(our)26 b(approach)e(to)i(pro\002le)
g(checking.)42 b(Section)26 b(3)h(describes)f(our)-118
5299 y(implementation)16 b(of)i(the)h(general)e(frame)n(w)o(ork)g(and)g
(a)i(check)o(er)f(for)p Black Black 2055 1734 a(edge)k(pro\002les)h
(generated)e(by)h(PL)-8 b(T)o(O.)23 b(Section)f(4)h(describes)g(sub-)
2055 1834 y(tle)i(issues)g(that)g(arose)f(during)e(the)j
(implementation)d(and)h(testing)2055 1934 y(of)33 b(our)f(frame)n(w)o
(ork.)60 b(Section)32 b(5)h(describes)g(what)f(we)h(learned)2055
2033 y(when)16 b(we)h(used)g(our)f(check)o(er)g(to)h(v)o(erify)e
(pro\002les)h(of)h(the)g(SPEC-95)2055 2133 y(benchmarks,)28
b(and)g(it)h(gi)n(v)o(es)f(information)e(on)i(e)o(x)o(ecution)e(times.)
2055 2233 y(Finally)-5 b(,)20 b(Section)f(6)i(gi)n(v)o(es)e(concluding)
f(remarks.)2055 2529 y Fr(2)119 b(Pr)n(o\002ling)31 b(and)g(Pr)n
(o\002le)f(Checking)2055 2700 y Fq(Intuiti)n(v)o(ely)-5
b(,)37 b(pro\002ling)d(in)m(v)n(olv)o(es)g(counting)f(speci\002c)j(e)n
(v)o(ents)f(of)2055 2800 y(interest\227e.g.,)29 b(entering)e(a)i(basic)
g(block,)g(or)f(taking)g(a)h(particu-)2055 2899 y(lar)g(control)e
(\003o)n(w)i(edge.)49 b(Ev)o(ents)28 b(are)h(counted)e(each)h(time)h
(the)o(y)2055 2999 y(happen)f(during)g(the)h(e)o(x)o(ecution)f(of)h(a)h
(program,)f(then)g(this)h(data)2055 3099 y(is)24 b(written)f(out)g(at)g
(the)g(end)g(of)f(the)h(program')-5 b(s)22 b(e)o(x)o(ecution.)31
b(In)23 b(or)n(-)2055 3198 y(der)28 b(to)h(pro\002le)f(a)h(program,)f
(it)h(is)g(\002rst)g Fp(instrumented)p Fq(,)h(i.e.,)g(it)f(is)2055
3298 y(re)n(written)23 b(to)h(insert)f(additional)g Fp(instrumentation)
f(code)p Fq(,)h(or)h Fp(pr)l(o-)2055 3398 y(\002ling)31
b(code)p Fq(,)i(that)f(records)f(the)g(runtime)g(e)n(v)o(ents)g(of)g
(interest)h(as)2055 3497 y(the)o(y)17 b(happen.)23 b(Figure)17
b(1)h(illustrates)g(this.)25 b(Figure)17 b(1\(a\))g(sho)n(ws)h(the)2055
3597 y(normal)h(e)o(x)o(ecution)e(of)j(a)g(program)e
Fp(a.out)p Fq(,)h(which)g(tak)o(es)h(the)g(input)2055
3696 y Fp(pr)l(o\002le)p 2274 3696 25 4 v 29 w(data.in)29
b Fq(and)h(generates)g(the)g(output)g Fp(data.g)o(en)p
Fq(.)54 b(Figure)2055 3796 y(1\(b\))27 b(sho)n(ws)h(ho)n(w)g(the)g
(program)e(is)j(pro\002led.)48 b(The)28 b(original)f(bi-)2055
3896 y(nary)d Fp(a.out)g Fq(is)i(passed)e(through)f(a)i(pro\002ler)m(,)
g(which)f(produces)f(an)2055 3995 y(instrumented)e(v)o(ersion.)30
b(The)23 b(instrumented)d(v)o(ersion)i Fp(a.instr)-9
b(.out)2055 4095 y Fq(is)20 b(then)f(e)o(x)o(ecuted)f(with)h(the)h
(same)f(input;)g(it)i(writes)e Fp(data.g)o(en)f Fq(and)2055
4195 y(the)i(pro\002le)g(data)g Fp(a.out.counts)p Fq(.)2138
4302 y(As)29 b(an)f(e)o(xample,)h(in)f(order)f(to)h(obtain)f(e)o(x)o
(ecution)f(counts)i(for)2055 4402 y(each)g(basic)g(block)f(in)i(a)f
(program)e(\(a)j(basic)f(block)f(pro\002le\),)i(we)2055
4502 y(might)38 b(insert)h(code)g(into)f(each)h(basic)g(block)f(to)h
(increment)f(a)2055 4601 y(block-speci\002c)16 b(counter)h(each)h(time)
g(that)g(block)f(is)i(entered.)k(Note)2055 4701 y(that)34
b(the)g(insertion)g(of)g(this)g(instrumentation)e(code)h(can)h(cause)
2055 4800 y(code)h(addresses)g(to)g(change.)69 b(More)35
b(comple)o(x)f(pro\002les,)k(e.g.,)2055 4900 y(v)n(alue)c(pro\002les)h
([5)o(,)g(19)o(])g(or)f(path)g(pro\002les)h([4)o(],)j(require)c(corre-)
2055 5000 y(spondingly)22 b(more)h(comple)o(x)f(processing,)h(b)n(ut)h
(the)g(general)e(idea)2055 5099 y(remains)f(the)h(same.)31
b(Pro\002lers)21 b(may)h(also)g(emplo)o(y)f(more)g(sophis-)2055
5199 y(ticated)i(pro\002ling)e(logic)i(to)g(reduce)f(runtime)f(o)o(v)o
(erheads)g([3)o(,)i(26)o(],)2055 5299 y(b)n(ut)d(again)f(the)i
(essential)f(idea)g(does)g(not)g(change.)p Black 1928
5548 a(2)p Black eop
%%Page: 3 3
3 2 bop Black Black -35 90 a Fq(It)23 b(is)g(clear)g(when)f(looking)f
(at)i(the)g(pro\002ling)e(process)h(that)h(tw)o(o)-118
190 y(types)18 b(of)g(errors)f(can)h(be)g(introduced.)j(The)d(\002rst)h
(are)f(instrumenta-)-118 289 y(tion)g(errors)g(that)g(occur)g(when)g
(the)g(program)e(is)k(not)e(instrumented)-118 389 y(correctly)-5
b(.)39 b(The)25 b(second)g(type)g(of)g(errors)g(are)g(pro\002ling)f
(code)h(er)n(-)-118 489 y(rors)c(that)i(occur)d(when)i(there)f(is)i(a)f
(b)n(ug)g(in)g(the)g(code)f(that)h(records)-118 588 y(runtime)27
b(e)n(v)o(ents.)47 b(These)27 b(tw)o(o)h(sources)g(of)f(errors)g(are)h
(indepen-)-118 688 y(dent)h(from)g(each)h(other)-5 b(.)54
b(Instrumentation)27 b(errors)i(produce)f(in-)-118 788
y(correct)15 b(pro\002le)h(data)h(re)o(gardless)d(of)j(the)f(type)g(of)
g(instrumentation)-118 887 y(code)j(that)i(is)g(inserted.)-35
989 y(Consider)30 b(again)h(the)g(e)o(xample)e(of)i(the)g(basic)h
(block)e(pro\002le.)-118 1089 y(If)i(the)h(instrumentation)d(process)i
(has)h(an)g(error)m(,)h(for)e(e)o(xample,)-118 1188 y(that)21
b(does)f(not)g(update)g(branches)f(correctly)-5 b(,)18
b(it)k(can)e(cause)h(the)f(in-)-118 1288 y(strumentation)h(code)i(to)g
(be)g(skipped)f(in)h(some)g(instances.)34 b(If)23 b(the)-118
1388 y(instrumentation)28 b(code)h(has)h(an)g(error)m(,)h(for)f(e)o
(xample,)g(that)h(uses)-118 1487 y(a)d(block-speci\002c)e(counter)g
(that)i(is)h(too)e(small,)j(it)e(is)h(possible)e(to)-118
1587 y(o)o(v)o(er\003o)n(w)16 b(the)i(counter)-5 b(.)24
b(In)18 b(both)f(cases,)i(the)f(result)h(is)g(pro\002le)e(data)-118
1687 y(that)j(does)g(not)g(match)g(the)g(actual)g(e)o(x)o(ecution)e(of)
i(the)g(program.)-35 1789 y(In)c(addition)e(to)i(inserting)g
(instrumentation)d(code)j(for)f(counting)-118 1888 y(and)25
b(recording)f(pro\002ling)h(e)n(v)o(ents,)h(a)h(pro\002ler)e(needs)g
(to)h(allocate)-118 1988 y(memory)16 b(space)i(for)f(the)g(pro\002le)h
(counters)e(themselv)o(es.)24 b(F)o(or)17 b(sim-)-118
2087 y(ple)k(kinds)g(of)g(pro\002les,)f(such)h(as)h(basic)f(block)g
(and)f(edge)h(pro\002les,)-118 2187 y(the)f(number)e(of)i(counters)f
(that)h(are)g(required)e(can)i(be)g(determined)-118 2287
y(statically)29 b(by)f(e)o(xamining)f(the)i(program;)i(therefore,)e
(the)f(coun-)-118 2386 y(ters)h(can)g(be)h(statically)f(allocated)f(in)
i(the)f(data)g(se)o(gment)f(of)h(the)-118 2486 y(instrumented)23
b(program.)38 b(F)o(or)25 b(more)f(comple)o(x)g(pro\002les,)i(it)g(may)
-118 2586 y(not)e(be)h(possible)f(to)h(determine)f(statically)h(ho)n(w)
f(man)o(y)f(counters)-118 2685 y(are)g(required.)33 b(In)23
b(this)h(case,)h(the)e(counters)f(may)h(ha)n(v)o(e)g(to)h(be)f(dy-)-118
2785 y(namically)j(allocated)h(during)e(e)o(x)o(ecution.)44
b(In)27 b(either)g(case,)i(data)-118 2884 y(addresses)24
b(in)h(the)g(original)e(program)f(might)i(change.)37
b(Errors)24 b(in)-118 2984 y(the)29 b(pro\002le)g(data)h(that)f(result)
h(from)e(these)i(kinds)f(of)g(issues)h(can)-118 3084
y(be)21 b(thought)e(of)h(as)i(instrumentation)d(errors)h(since)h(it)g
(is)h(the)f(act)g(of)-118 3183 y(instrumentation)d(that)i(results)h(in)
f(changes)f(to)i(addresses.)-35 3285 y(While)i(it)h(may)f(seem)g(a)h
(simple)f(proposition)d(to)k(insert)f(instru-)-118 3385
y(mentation)j(code)h(into)g(a)h(program,)f(the)h(issues)g(that)g(ha)n
(v)o(e)e(to)i(be)-118 3485 y(addressed)19 b(are)h(not)f(al)o(w)o(ays)i
(straightforw)o(ard.)h(F)o(or)e(e)o(xample,)e(the)-118
3584 y(GNU)25 b(C)g(compiler)f Fp(gcc)604 3554 y Fm(2)661
3584 y Fq(has)h(f)o(acilities)h(for)e(basic)g(block)g(pro\002l-)-118
3684 y(ing,)30 b(b)n(ut)e(if)h(the)g(program)d(being)h(instrumented)g
(is)i(lar)o(ge\227e.g.,)-118 3783 y(the)22 b(SPEC-2000)f(benchmark)f
Fp(176.gcc)p Fq(\227the)g(instrumented)h(e)o(x-)-118
3883 y(ecutable)j(can)h(silently)g(generate)f(incorrect)f(pro\002les)i
(when)f(e)o(x)o(e-)-118 3983 y(cuted,)e(or)g(crash)g(with)h(a)g(se)o
(gmentation)d(f)o(ault.)32 b(W)-7 b(e)23 b(mention)f(this)-118
4082 y(only)h(to)h(observ)o(e)f(that)h(e)n(v)o(en)f(e)o(xperienced)f
(softw)o(are)h(de)n(v)o(elopers)-118 4182 y(can)h(sometimes)h(ha)n(v)o
(e)f(trouble)f(with)i(pro\002lers,)g(e)n(v)o(en)f(for)g(some-)-118
4282 y(thing)k(as)h(supposedly)e(straightforw)o(ard)f(as)j(basic)g
(block)f(pro\002l-)-118 4381 y(ing.)-35 4483 y(Pro\002lers)40
b(are)g(often)f(implemented)f(by)h(re)n(writing)g(binaries)-118
4583 y(\(e.g.,)18 b(see)h([16)o(,)g(25)o(]\).)24 b(In)19
b(this)g(case)g(it)h(is)f(imperati)n(v)o(e)e(that)i(changes)-118
4682 y(to)f(code)f(and)h(data)g(addresses)f(resulting)g(from)g
(instrumenting)f(the)-118 4782 y(program)f(be)j(re\003ected)f(in)h(all)
h(parts)e(of)h(the)g(program.)k(Otherwise,)-118 4882
y(the)j(instrumented)d(program)h(may)h(beha)n(v)o(e)f(dif)n(ferently)g
(than)h(the)-118 4981 y(original)g(program.)39 b(Ob)o(viously)-5
b(,)24 b(if)i(the)f(beha)n(vioral)f(dif)n(ferences)p
Black -118 5062 785 4 v -28 5117 a Fk(2)1 5141 y Fn(This)13
b(refers)h(to)g Fj(gcc)g Fn(v)o(ersion)g(2.96)f(on)g(Intel)i(Pentium)f
(3)f(and)g(Pentium)i(4)e(w)o(ork-)-118 5220 y(stations)k(running)g
(RedHat)g(Linux)f(7.3.)k(Instrumentation)e(for)e(basic)h(block)f
(pro\002l-)-118 5299 y(ing)h(is)g(generated)j(when)e(the)f(compiler)i
(is)e(in)m(v)o(ok)o(ed)i(as)e Fj(gcc)h(\226a.)p Black
Black Black 2055 90 a Fq(between)26 b(the)i(tw)o(o)f(v)o(ersions)f
(result)h(in)h(dif)n(ferent)d(outputs)h(being)2055 190
y(generated,)h(the)h(problem)e(will)i(be)f(noticed,)h(b)n(ut)g(we)g
(cannot)e(al-)2055 289 y(w)o(ays)k(guarantee)f(that)h(this)g(will)h(be)
f(the)g(case.)54 b(Another)29 b(prob-)2055 389 y(lem)d(may)e(arise)i
(from)e(the)i(f)o(act)f(that,)i(in)e(general,)g(it)h(is)h(impossi-)2055
489 y(ble)g(to)g(rule)f(out)h(disassembly)f(errors,)h(especially)f(if)i
(there)e(may)2055 588 y(be)e(data)g(embedded)f(in)h(the)g(te)o(xt)g(se)
o(gment)g([24)n(].)38 b(In)24 b(such)g(cases,)2055 688
y(e.g.,)g(if)h(e)o(x)o(ecutable)d(code)h(is)j(mistak)o(enly)d
(identi\002ed)g(as)i(data)f(\(or)2055 788 y(vice)c(v)o(ersa\),)e(the)i
(insertion)e(of)i(instrumentation)d(code)i(can)g(cause)2055
887 y(the)25 b(program)d(to)j(crash)f(or)h(to)g(produce)d(an)j
(incorrect)e(pro\002le.)38 b(A)2055 987 y(more)21 b(subtle)h(problem)e
(can)i(arise)h(if)f(the)g(e)n(v)o(ent)f(counters)g(are)h(too)2055
1086 y(small,)17 b(e.g.,)g(if)g(32-bit)e(counters)g(are)h(inadv)o
(ertently)e(used)i(for)g(long)2055 1186 y(running)24
b(programs)g(where)h(e)o(x)o(ecution)f(counts)i(are)f(too)h(lar)o(ge)f
(to)2055 1286 y(\002t)30 b(into)f(32)g(bits.)52 b(This)30
b(can)f(happen,)g(for)g(e)o(xample,)g(if)h(code)e(is)2055
1385 y(reused)19 b(across)g(architectures;)g(e.g.,)f(a)i(C)g(v)n
(ariable)f(of)g(type)f Fi(long)2055 1485 y Fq(occupies)h(64)h(bits)g
(on)g(a)g(Compaq)f(Alpha)h(b)n(ut)g(only)f(32)g(bits)i(on)e(an)2055
1585 y(Intel)28 b(Pentium.)46 b(W)-7 b(e)29 b(ha)n(v)o(e)e(in)h(f)o
(act)g(encountered)d(all)j(the)g(abo)o(v)o(e)2055 1684
y(problems)19 b(in)h(our)g(o)n(wn)f(w)o(ork.)2138 1791
y(Some)c(other)g(pro\002ling)f(schemes)h(a)n(v)n(oid)h(the)f(problem)f
(of)h(disas-)2055 1890 y(sembly)25 b(errors\227e.g.,)f(by)h
(instrumenting)f(an)h(interpreter)f(or)h(by)2055 1990
y(dynamic)j(instrumentation,)h(in)g(which)g(the)g(program)e(is)j
(instru-)2055 2090 y(mented)18 b(as)i(it)g(e)o(x)o(ecutes.)j(Ho)n(we)n
(v)o(er)m(,)17 b(the)i(other)g(problems)e(still)k(re-)2055
2189 y(main.)32 b(Moreo)o(v)o(er)m(,)20 b(lik)o(e)j(binary)e(re)n
(writing,)h(both)g(these)g(schemes)2055 2289 y(perturb)i(the)i(e)o(x)o
(ecutable:)35 b(In)26 b(an)g(instrumented)e(interpreter)m(,)h(the)2055
2389 y(code)16 b(no)n(w)g(e)o(x)o(ecutes)g(out)g(of)h(the)f(data)h(se)o
(gment)f(of)g(the)h(interpreter)2055 2488 y(rather)24
b(than)f(its)j(o)n(wn)d(te)o(xt)h(se)o(gment;)i(dynamic)d
(instrumentation)2055 2588 y(inserts)e(instrumentation)d(code)h(in)h
(the)h(e)o(x)o(ecutable.)2138 2694 y(Ev)o(en)g(when)g(all)i(the)f(abo)o
(v)o(e)e(problems)h(ha)n(v)o(e)g(been)h(addressed,)2055
2794 y(the)34 b(act)h(of)f(inserting)f(instrumentation)f(code)h(into)h
(a)g(program)2055 2894 y(can)42 b(af)n(fect)g(its)h(beha)n(vior)m(,)i
(possibly)d(in)g(subtle)g(and)f(hard-to-)2055 2993 y(detect)27
b(w)o(ays)h(\(e.g.,)g(see)g(Section)g(5\).)46 b(In)27
b(implementing)f(a)h(pro-)2055 3093 y(\002le)22 b(check)o(er)m(,)d
(therefore,)g(one)i(of)g(our)f(goals)h(is)g(to)h(a)n(v)n(oid)e
(perturb-)2055 3192 y(ing)i(the)g(program)e(being)h(pro\002led)g(as)i
(much)e(as)i(possible)f(to)g(help)2055 3292 y(identify)j
(instrumentation)f(errors.)42 b(One)26 b(w)o(ay)g(to)g(realize)g(this)g
(is)2055 3392 y(to)k(ha)n(v)o(e)f(the)h(instrumentation)e(code)h
(reside)g(in)h(a)h(dif)n(ferent)d(ad-)2055 3491 y(dress)h(space)f(than)
g(the)g(program)f(being)g(pro\002led,)i(with)g(control)2055
3591 y(being)e(transferred)f(from)h(program')-5 b(s)26
b(address)h(space)h(to)g(the)g(in-)2055 3691 y(strumentation)22
b(address)i(space,)h(and)e(back,)h(each)g(time)g(a)h(pro\002le)2055
3790 y(e)n(v)o(ent)19 b(occurs)f(during)g(the)i(program')-5
b(s)17 b(e)o(x)o(ecution.)23 b(Note)c(that)h(this)2055
3890 y(technique)g(does)h(not)f(address)h(the)g(issue)h(of)f(errors)f
(in)i(the)f(instru-)2055 3990 y(mentation)e(code.)2138
4096 y(This)28 b(idea)g(is)h(strongly)e(reminiscent)g(of)h(the)g(w)o
(ay)g(deb)n(uggers)2055 4196 y(w)o(ork)22 b([22)o(].)34
b(A)23 b(deb)n(ugger)e(monitors)h(and)g(controls)g(the)h(program)2055
4295 y(being)18 b(deb)n(ugged.)23 b(It)c(allo)n(ws)g(the)h(program)d
(to)i(be)g(single-stepped)2055 4395 y(an)28 b(instruction)e(at)i(a)g
(time,)h(allo)n(ws)f(breakpoints)d(to)j(be)f(set,)j(and)2055
4495 y(allo)n(ws)36 b(the)g(program)e(to)i(be)g(e)o(x)o(ecuted)e(until)
i(a)g(breakpoint)d(is)2055 4594 y(reached.)h(In)23 b(addition,)f(the)i
(deb)n(ugger)d(has)j(access)g(to)g(the)f(mem-)2055 4694
y(ory)16 b(space)g(of)h(the)f(program)f(being)g(deb)n(ugged,)g(so)i(it)
g(can)g(e)o(xamine)2055 4793 y(and)j(change)f(the)i(core)f(image)g(of)h
(the)f(program.)k(\(On)c(Linux,)g(this)2055 4893 y(functionality)e(is)j
(supported)e(by)g(the)h Fp(ptr)o(ace)g Fq(system)h(call\).)2138
5000 y(Our)28 b(approach)e(to)i(pro\002le)f(checking)f(is)j(based)f(on)
f(this)i(idea.)2055 5099 y(The)g(check)o(er)e(starts)j(the)f(program)e
(whose)i(pro\002le)f(we)h(w)o(ant)g(to)2055 5199 y(check)20
b(on)f(the)i(appropriate)d(pro\002ling)g(inputs,)i(and)g(then)g(uses)g
(the)2055 5299 y(appropriate)g(system)i(call)g(\()p Fp(ptr)o(ace)f
Fq(on)g(Linux\))g(to)h(control)e(its)j(e)o(x-)p Black
1928 5548 a(3)p Black eop
%%Page: 4 4
4 3 bop Black Black -118 90 a Fq(ecution.)52 b(The)29
b(check)o(er)g(observ)o(es)f(the)i(runtime)e(beha)n(vior)g(of)i(a)-118
190 y(program)14 b(in)j(the)g(same)g(w)o(ay)f(a)h(human)f(uses)h(a)g
(deb)n(ugger)d(to)j(deb)n(ug)-118 289 y(a)j(program:)j(by)c(single)h
(stepping,)f(setting)h(breakpoints,)d(running)-118 389
y(until)27 b(breakpoints)d(are)j(reached,)g(and)f(e)o(xamining)f(the)i
(memory)-118 489 y(space)19 b(of)g(the)h(program.)i(In)d(the)h
(process,)e(the)i(check)o(er)e(can)h(count)-118 588 y(pro\002ling)29
b(e)n(v)o(ents)g(\227)i(e.g.,)h(entry)e(to)g(a)h(basic)f(block)f(or)h
(control)-118 688 y(\003o)n(w)21 b(along)f(an)g(edge)g(\227)i(as)f(the)
o(y)f(occur)g(and)g(check)g(whether)g(the)-118 788 y(resulting)e
(counts)g(match)g(those)g(generated)f(by)h(the)h(pro\002ler)-5
b(.)24 b(This)-118 887 y(is)30 b(illustrated)g(in)f(Figure)g(1\(c\).)52
b(The)30 b(check)o(er)e(controls)h(e)o(x)o(ecu-)-118
987 y(tion)22 b(of)h(the)g(original)e(program)g Fp(a.out)h
Fq(on)g(the)h(original)e(input)h(\002le)-118 1086 y Fp(pr)l(o\002le)p
101 1086 25 4 v 29 w(data.in)p Fq(.)57 b(Additionally)-5
b(,)32 b(the)f(check)o(er)g(tak)o(es)h(the)f(e)n(v)o(ent)-118
1186 y(counts)21 b(data)g Fp(a.out.counts)e Fq(as)j(an)f(input)g(and)g
(produces)f(diagnos-)-118 1286 y(tics)h(and)f(v)o(eri\002cation)e
(output)h(as)i(appropriate.)-35 1393 y(It)43 b(is)h(important)e(to)h
(be)h(precise)e(with)i(what)f(our)f(check)o(er)-118 1492
y(does)31 b(and)h(does)f(not)g(do.)60 b(First,)35 b(the)d(check)o(er)e
(does)i(not)f(kno)n(w)-118 1592 y(\223truth\224)g(about)h(what)g(the)h
(pro\002le)e(data)i(should)e(be.)61 b(What)33 b(the)-118
1691 y(check)o(er)26 b(does)h(do)g(is)h(compare)e(the)h(pro\002le)g
(data)g(created)g(using)-118 1791 y(the)20 b(usual)f(instrumentation)f
(method)g(with)i(the)f(pro\002le)g(data)h(gen-)-118 1891
y(erated)j(from)g(this)i(deb)n(ugger)n(-lik)o(e)c(instrumentation)h
(method.)34 b(In)-118 1990 y(essence,)c(it)f(is)h(a)e(simple)h(use)f
(of)g(the)h(N-v)o(ersion)e(programming)-118 2090 y(paradigm)e(to)i
(check)f(the)i(instrumentation)c(process.)45 b(The)27
b(v)o(eri-)-118 2190 y(\002cation)d(output)g(is)i(a)f(report)f(of)g
(the)h(\223second)f(opinion\224)f(that)i(the)-118 2289
y(check)o(er)15 b(pro)o(vides)g(and)h(requires)g(further)f(analysis.)24
b(It)17 b(is)g(also)g(im-)-118 2389 y(portant)g(to)i(be)g(precise)f
(about)f(what)i(the)g(v)o(eri\002cation)e(output)g(tells)-118
2488 y(us.)39 b(If)25 b(the)g(v)o(eri\002cation)e(output)h(does)h(not)f
(ha)n(v)o(e)h(an)o(y)f(discrepan-)-118 2588 y(cies,)17
b(it)f(does)g(not)f(imply)g(that)h(the)g(pro\002le)f(data)h(is)g
(correct)f(\227)i(there)-118 2688 y(may)24 b(be)h(errors)f(with)h(the)g
(pro\002le)f(code)h(that)g(were)f(not)h(detected)-118
2787 y(by)20 b(the)h(check)o(er)-5 b(.)27 b(If)20 b(the)h(v)o
(eri\002cation)f(output)f(has)j(discrepancies,)-118 2887
y(then)h(the)h(task)g(of)f(analyzing)f(the)i(cause)f(of)g(these)h
(discrepancies)-118 2987 y(must)29 b(still)h(be)f(done)g(by)f(hand.)51
b(In)29 b(summary)-5 b(,)29 b(the)g(goal)g(of)g(our)-118
3086 y(w)o(ork)f(is)i(to)f(observ)o(e)e(and)h(independently)e(count)i
(e)n(v)o(ents)g(in)h(the)-118 3186 y(original)19 b(program\227without)d
(altering)j(that)h(program\227in)d(order)-118 3286 y(to)f(determine)f
(whether)g(the)h(counts)g(agree)f(with)h(those)g(of)g(the)g(pro-)-118
3385 y(\002led)k(v)o(ersion)f(of)h(the)g(program.)-35
3492 y(It)25 b(is)h(also)f(w)o(orth)f(noting)f(what)i(our)f(w)o(ork)g
(is)i(not)e(about.)38 b(It)25 b(is)-118 3592 y(not)h(about)g(choosing)f
(suitable)i(pro\002ling)e(inputs;)30 b(that)d(is)h(a)f(task)-118
3691 y(that)k(is)h(best)g(left)f(to)g(the)h(application)d(programmer)-5
b(.)55 b(Nor)31 b(is)h(it)-118 3791 y(about)21 b(choosing)g(suitable)h
(test)i(programs,)d(e.g.,)h(randomly)e(gen-)-118 3891
y(erated)j(programs,)g(to)h(observ)o(e)e(and)h(check)g(pro\002lers;)j
(that)d(issue)-118 3990 y(is)28 b(lar)o(gely)e(orthogonal)e(to)k(the)f
(topic)f(of)h(this)h(paper)-5 b(.)45 b(Finally)-5 b(,)28
b(it)-118 4090 y(is)h(not)e(about)g(checking)f(the)i(consistenc)o(y)f
(of)h(pro\002les,)h(i.e.,)h(an-)-118 4189 y(swering)e(the)h(question)f
(of)h(whether)f(a)i(pro\002le)e(\223mak)o(es)h(sense;\224)-118
4289 y(all)d(we)f(are)g(checking)f(is)i(whether)e(the)h(pro\002ler)f
(computes)g(what)-118 4389 y(it)d(purports)d(to)j(compute.)-118
4681 y Fr(3)119 b(An)54 b(Example:)81 b(Checking)55 b(of)d(PL)-11
b(T)n(O)61 4830 y(Edge)30 b(Pr)n(o\002les)-118 5000 y
Fq(W)-7 b(e)32 b(ha)n(v)o(e)f(b)n(uilt)g(the)h(trap-based)d(pro\002le)i
(checking)e(frame)n(w)o(ork)-118 5099 y(sk)o(etched)17
b(abo)o(v)o(e)e(and)i(ha)n(v)o(e)g(b)n(uilt)h(a)g(check)o(er)e(for)h
(edge)g(count)f(pro-)-118 5199 y(\002les)k(generated)e(by)g(the)i(PL)-8
b(T)o(O)19 b(binary)f(re)n(writing)g(system)h(for)g(In-)-118
5299 y(tel)e(Pentium)f(processors)f([23)o(].)24 b(The)16
b(trap-based)f(frame)n(w)o(ork)f(w)o(as)p Black Black
2055 90 a(implemented)19 b(on)i(Linux)f(using)g(the)h
Fp(libDeb)n(ug)f Fq(library)g(from)g(the)2055 190 y Fp(ald)j
Fq(deb)n(ugger)e([1)o(].)35 b(This)23 b(section)g(\002rst)h(describes)f
(the)h(basic)f(op-)2055 289 y(eration)16 b(of)h(our)f(check)o(er)g
(then)g(discusses)i(optimizations)d(we)j(used)2055 389
y(to)i(impro)o(v)o(e)e(its)k(performance.)2055 579 y
Fh(3.1)99 b(Basic)25 b(Operation)2055 711 y Fq(A)f(PL)-8
b(T)o(O)24 b(edge)f(count)g(pro\002le)g(represents)g(an)h(edge)f(as)i
(a)f(pair)g(of)2055 811 y(basic)f(blocks)f(and)h(a)g(counter;)g(each)g
(basic)g(block)f(is)h(denoted)f(by)2055 910 y(its)29
b(starting)e(address)h(in)g(the)g(program)d(that)j(w)o(as)h
(pro\002led.)47 b(The)2055 1010 y(check)o(er)18 b(\002rst)i(reads)g(a)f
(program')-5 b(s)18 b(edge)h(count)f(pro\002le,)h(creates)g(a)2055
1110 y(control)g(\003o)n(w)g(graph)g(for)g(the)h(program)d(using)i(the)
h(edge)f(informa-)2055 1209 y(tion,)27 b(and)e(initializes)i(edge)e
(counts)g(in)h(this)h(control)e(\003o)n(w)h(graph)2055
1309 y(with)e(v)n(alues)g(read)f(from)g(the)h(edge)f(count)g
(pro\002le.)35 b(The)23 b(check)o(er)2055 1408 y(then)g(starts)i(the)f
(program)d(and)j(monitors)e(its)j(e)o(x)o(ecution.)34
b(As)24 b(the)2055 1508 y(program)18 b(e)o(x)o(ecutes,)h(the)h(check)o
(er)f(has)i(tw)o(o)f(main)g(tasks:)p Black 2117 1678
a(1.)p Black 41 w(Check)26 b(the)g(structure)f(of)g(the)h(control)f
(\003o)n(w)h(graph)e(and)i(re-)2221 1778 y(port)e(an)o(y)g(anomalies)g
(that)g(are)h(detected,)g(such)f(as)h(missing)2221 1878
y(edges)35 b(or)g(basic)g(blocks.)70 b(The)35 b(e)o(xistence)f(of)h
(anomalies)2221 1977 y(point)24 b(to)g(disassembly)g(errors)f(in)i(the)
f(pro\002ler)f(\(see)i(Figure)2221 2077 y(1\(b\))19 b(and)h([24)o(]\).)
p Black 2117 2249 a(2.)p Black 41 w(Decrement)15 b(edge)h(counters)g
(as)h(control)e(\003o)n(w)i(edges)f(are)h(tra-)2221 2348
y(v)o(ersed.)2055 2519 y(When)27 b(the)h(program)d(being)i(check)o(ed)f
(terminates,)j(the)e(check)o(er)2055 2618 y(outputs)i(all)h(of)f(the)g
(edges)g(in)h(the)f(control)g(\003o)n(w)g(graph)f(that)i(do)2055
2718 y(not)24 b(ha)n(v)o(e)g(counts)f(equal)h(to)g(zero.)37
b(These)24 b(nonzero)e(edge)i(counts)2055 2818 y(indicate)d(where)h
(the)f(pro\002le)h(data)f(did)h(not)f(match)h(the)f(e)o(x)o(ecution)
2055 2917 y(beha)n(vior)e(of)h(the)g(program)e(as)j(seen)f(by)g(the)g
(check)o(er)-5 b(.)2138 3018 y(The)21 b(technique)e(used)i(to)h(follo)n
(w)e(and)g(v)o(erify)g(the)h(control)f(\003o)n(w)2055
3118 y(graph)25 b(is)h(straightforw)o(ard.)40 b(The)25
b(check)o(er)g(starts)i(e)o(x)o(ecuting)c(the)2055 3218
y(program)e(at)i(the)g(be)o(ginning)d(of)i(the)h(basic)g(block)f
(corresponding)2055 3317 y(to)e(the)g(entry)f(point)g(of)g(the)h
(program.)j(The)c(check)o(er)g(re)o(gains)f(con-)2055
3417 y(trol)j(at)g(the)g(end)f(of)g(that)h(basic)g(block,)e(\002nds)i
(the)g(start)g(of)f(the)h(ne)o(xt)2055 3517 y(basic)26
b(block,)f(decrements)f(the)i(appropriate)d(edge)h(counter)m(,)h(and)
2055 3616 y(then)g(repeats)f(these)h(actions.)39 b(This)25
b(iterati)n(v)o(e)g(process)f(is)i(imple-)2055 3716 y(mented)19
b(as)i(follo)n(ws:)p Black 2117 3886 a(1.)p Black 41
w(The)29 b(check)o(er)f(records)g(the)h(address)f(of)h(the)g(current)f
(basic)2221 3986 y(block)i Fl(B)t Fq(,)k(then)c(\002nds)h(the)g(last)g
(instruction)f(in)g Fl(B)t Fq(,)k(as)e(de-)2221 4086
y(scribed)20 b(belo)n(w)-5 b(.)p Black 2117 4257 a(2.)p
Black 41 w(The)24 b(check)o(er)e(then)h(sets)i(a)f(breakpoint)e(at)i
(the)g(last)g(instruc-)2221 4357 y(tion)c(in)g Fl(B)t
Fq(.)p Black 2117 4529 a(3.)p Black 41 w(The)c(check)o(er)e(returns)h
(control)f(to)i(the)g(program,)e(which)h(e)o(x)o(e-)2221
4629 y(cutes)20 b(at)g(nati)n(v)o(e)f(speed)g(until)g(it)h(encounters)e
(the)i(breakpoint)2221 4728 y(at)h(the)f(end)g(of)g(block)g
Fl(B)t Fq(.)26 b(This)20 b(returns)g(control)f(back)h(to)g(the)2221
4828 y(check)o(er)-5 b(.)p Black 2117 5000 a(4.)p Black
41 w(The)15 b(pro\002le)g(check)o(er)g(then)g(e)o(x)o(ecutes)f(the)i
(last)g(instruction)e(in)2221 5099 y(basic)23 b(block)g
Fl(B)t Fq(.)34 b(This)23 b(is)h(accomplished)d(using)i(the)g
Fp(ptr)o(ace)2221 5199 y Fq(single-step)h(interf)o(ace,)g(which)f(e)o
(x)o(ecutes)g(a)i(single)f(instruc-)2221 5299 y(tion)c(then)g(returns)f
(control)g(to)h(the)h(check)o(er)-5 b(.)p Black 1928
5548 a(4)p Black eop
%%Page: 5 5
5 4 bop Black Black Black -56 90 a Fq(5.)p Black 41 w(After)33
b(single)g(stepping,)i(the)e(program)e(is)k(at)e(the)h(start)f(of)48
190 y(some)f(basic)g(block)f Fl(B)743 160 y Fg(0)767
190 y Fq(.)61 b(At)32 b(this)h(point,)h(there)e(are)g(three)48
289 y(possibilities:)p Black 97 468 a(\(a\))p Black 41
w(Block)23 b Fl(B)520 438 y Fg(0)568 468 y Fq(e)o(xists)i(and)e(there)h
(is)h(an)f(edge)f(in)h(the)g(con-)231 568 y(trol)29 b(\003o)n(w)g
(graph)f(from)g Fl(B)34 b Fq(to)c Fl(B)1220 538 y Fg(0)1243
568 y Fq(,)i(so)e(the)f(count)g(as-)231 668 y(sociated)22
b(with)g(the)h(edge)f Fl(B)31 b Ff(!)d Fl(B)1273 638
y Fg(0)1319 668 y Fq(is)c(decremented.)231 767 y(This)c(is)h(the)f(e)o
(xpected)f(case.)p Black 92 907 a(\(b\))p Black 41 w(Block)44
b Fl(B)541 877 y Fg(0)610 907 y Fq(does)g(not)h(e)o(xist)g(in)g(the)f
(control)g(\003o)n(w)231 1006 y(graph\227i.e.,)15 b(there)h(is)i(no)e
(block)g(with)g(the)h(same)g(start-)231 1106 y(ing)28
b(address)g(as)i Fl(B)810 1076 y Fg(0)833 1106 y Fq(\227so)f(it)h(is)g
(reported)d(as)i(missing)231 1206 y(and)e(added)f(to)i(the)g(control)f
(\003o)n(w)g(graph.)47 b(This)28 b(may)231 1305 y(cause)20
b(an)h(e)o(xisting)g(basic)g(block)f(to)h(be)g(split)g(into)g(tw)o(o)
231 1405 y(blocks.)65 b(\(In)33 b(this)i(case,)i(a)e(ne)n(w)e(edge)g
(is)i(also)g(cre-)231 1504 y(ated;)17 b(its)g(count)e(is)i(initialized)
f(to)h(the)f(sum)g(of)g(the)g(edge)231 1604 y(counts)j(into)h(the)g
(block)f(that)i(w)o(as)g(split.\))p Black 97 1743 a(\(c\))p
Black 41 w(Block)k Fl(B)522 1713 y Fg(0)571 1743 y Fq(e)o(xists)h(b)n
(ut)g(the)f(edge)g Fl(B)37 b Ff(!)c Fl(B)1509 1713 y
Fg(0)1558 1743 y Fq(does)25 b(not)231 1843 y(e)o(xist,)40
b(so)d(that)g(edge)f(is)h(reported)e(as)i(missing)g(and)231
1943 y(added)19 b(to)h(the)g(control)f(\003o)n(w)h(graph.)-35
2122 y(T)-7 b(o)17 b(\002nd)f(the)g(last)h(instruction)f(in)g(a)h
(basic)g(block)e Fl(B)t Fq(,)j(the)e(check)o(er)-118
2221 y(starts)24 b(at)g(the)f(\002rst)h(instruction)e(in)i
Fl(B)k Fq(and)22 b(repeatedly)g(disassem-)-118 2321 y(bles)i(each)f
(instruction)f Fl(I)32 b Fq(until)23 b(one)g(of)g(the)h(follo)n(wing)e
(tw)o(o)i(con-)-118 2421 y(ditions)c(holds:)p Black -56
2596 a(1.)p Black 41 w(If)c Fl(I)24 b Fq(is)18 b(a)f(branch)e
(instruction,)h(then)g Fl(I)24 b Fq(is)17 b(the)g(last)g(instruction)48
2696 y(in)j Fl(B)t Fq(.)p Black -56 2875 a(2.)p Black
41 w(If)41 b(the)h(starting)g(address)f(of)g Fl(I)49
b Fq(is)43 b(in)f(the)g(list)g(of)g(basic)48 2975 y(block)15
b(starting)g(addresses)g(obtained)f(from)h(the)h(control)e(\003o)n(w)48
3074 y(graph)26 b(being)h(v)o(eri\002ed,)h(then)f Fl(I)36
b Fq(is)28 b(the)g(\002rst)h(instruction)d(in)48 3174
y(the)i(block)e(after)h Fl(B)t Fq(.)48 b(\(This)28 b(situation)f
(occurs)g(when)g(there)48 3274 y(is)21 b(a)f(f)o(all-through)d(edge)i
(from)g(one)h(block)f(to)h(another)e(in)i(the)48 3373
y(control)27 b(\003o)n(w)h(graph.\))47 b(In)28 b(this)g(case,)i(the)e
(instruction)f(im-)48 3473 y(mediately)f(preceding)f
Fl(I)34 b Fq(is)28 b(the)f(last)h(instruction)e(in)h(block)48
3572 y Fl(B)t Fq(.)-118 3765 y Fh(3.2)99 b(Optimizations)-118
3901 y Fq(The)25 b(basic)g(trap-based)f(check)o(er)g(described)g(abo)o
(v)o(e)g(turns)h(out)g(to)-118 4000 y(be)g(quite)g(slo)n(w)-5
b(.)41 b(This)26 b(is)g(due)f(primarily)f(to)i(the)f(o)o(v)o(erhead)e
(asso-)-118 4100 y(ciated)k(with)g(using)f(the)h Fp(ptr)o(ace)f
Fq(system)h(call.)45 b(T)-7 b(o)27 b(speed)g(up)f(the)-118
4199 y(check)o(er)m(,)17 b(we)h(ha)n(v)o(e)f(therefore)g(focused)f(on)i
(reducing)e(the)i(number)-118 4299 y(of)h(times)h(the)f(check)o(er)g
(has)g(to)h(use)f Fp(ptr)o(ace)g Fq(to)h(access)g(the)f(pro\002led)-118
4399 y(program')-5 b(s)26 b(memory)-5 b(.)45 b(W)-7 b(e)29
b(are)e(able)h(to)f(reduce)g(the)h(number)d(of)-118 4498
y(calls)c(by)f(caching)f(k)o(e)o(y)g(v)n(alues,)h(as)h(described)d
(belo)n(w)-5 b(.)-35 4601 y(An)43 b(especially)g(signi\002cant)f
(source)g(of)h(o)o(v)o(erheads)e(results)-118 4701 y(from)31
b(the)i(check)o(er')-5 b(s)32 b(need)f(to)i(disassemble)f(the)h
(pro\002led)e(pro-)-118 4800 y(gram')-5 b(s)26 b(instructions)h(e)n(v)o
(ery)e(time)i(it)h(is)g(looking)d(for)i(the)g(end)f(of)-118
4900 y(a)c(basic)h(block.)29 b(In)22 b(order)f(to)h(e)o(xamine)f
(memory)f(in)i(the)g(program)-118 5000 y(being)d(v)o(eri\002ed,)g
Fp(ptr)o(ace)h Fq(must)g(be)g(called)g(for)f(each)h(w)o(ord)g(of)f
(data.)-118 5099 y(In)k(the)h(basic)g(check)o(er)e(described)h(abo)o(v)
o(e,)f(each)h(instruction)g(in)h(a)-118 5199 y(basic)30
b(block)f(is)h(disassembled)f(each)h(time)g(that)f(basic)h(block)f(is)
-118 5299 y(e)o(x)o(ecuted,)24 b(so)i(the)f(total)h(number)e(of)h
(calls)h(to)f Fp(ptr)o(ace)g Fq(is)h(roughly)p Black
Black 2055 90 a(equal)k(to)h(the)f(total)h(number)e(of)h(instructions)g
(e)o(x)o(ecuted)e(by)i(the)2055 190 y(original)19 b(program.)2138
289 y(W)-7 b(e)24 b(can)f(reduce)e(this)j(o)o(v)o(erhead)c
(dramatically)h(by)i(ha)n(ving)e(the)2055 389 y(check)o(er)c(cache)g
(the)h(end)f(address)g(\227)i(i.e.,)f(the)g(address)f(of)h(the)f(last)
2055 489 y(instruction.)33 b(This)23 b(means)g(that)h(the)f(check)o(er)
f(only)g(has)i(to)f(disas-)2055 588 y(semble)18 b(a)g(basic)g(block)f
(once)h(to)g(\002nd)g(its)h(last)g(instruction.)j(\(There)2055
688 y(is)f(one)f(e)o(xception)e(to)i(this,)h(which)e(occurs)h
(infrequently:)i(If)e(a)h(ba-)2055 788 y(sic)j(block)e(is)j(split)e(as)
h(a)g(result)f(of)g(a)h(missing)f(basic)h(block)e(in)h(the)2055
887 y(control)15 b(\003o)n(w)h(graph,)f(the)h(check)o(er)f(has)h(to)g
(disassemble)f(the)h(block)2055 987 y(being)25 b(split)i(one)e(more)g
(time)h(to)h(identify)d(the)i(ne)n(w)g(last)h(instruc-)2055
1086 y(tion.\))37 b(It)24 b(turns)g(out)g(that)g(PL)-8
b(T)o(O)24 b(does)g(not)g(pro\002le)g(certain)f(types)2055
1186 y(of)16 b(control)f(\003o)n(w)i(edges,)g(e.g.,)f(function)f
(return)g(edges.)23 b(Hence)16 b(the)2055 1286 y(check)o(er)23
b(has)h(to)g(determine)e(the)i(type)f(of)h(the)g(control)e(\003o)n(w)i
(edge)2055 1385 y(out)g(of)g(a)g(block)f(in)h(order)f(to)h(a)n(v)n(oid)
g(gi)n(ving)f(spurious)f(diagnostic)2055 1485 y(messages.)32
b(This,)23 b(in)f(turn,)h(is)g(go)o(v)o(erned)c(by)j(the)h(type)f(of)g
(the)g(last)2055 1585 y(instruction)17 b(in)h(the)h(block.)k(Thus,)18
b(we)g(also)h(cache)f(the)g(type)f(of)h(the)2055 1684
y(last)23 b(instruction)e(in)h(a)h(block)e(the)h(\002rst)h(time)f(we)g
(disassemble)g(the)2055 1784 y(block.)2138 1883 y(These)28
b(optimizations)f(turn)h(out)g(to)g(be)g Fp(very)h Fq(ef)n(fecti)n(v)o
(e)e(in)i(re-)2055 1983 y(ducing)18 b(the)h(o)o(v)o(erheads)d
(associated)j(with)g Fp(ptr)o(ace)g Fq(calls.)25 b(W)m(ith)19
b(the)2055 2083 y(\002rst)26 b(implementation)d(of)h(the)h(check)o(er)m
(,)g(some)f(of)h(the)g(SPECint-)2055 2182 y(95)18 b(and)f(SPECfp-95)g
(benchmarks)f(had)i(checking)e(times)j(that)f(e)o(x-)2055
2282 y(ceeded)e(a)i(week)f(without)f(completing.)22 b(After)17
b(making)f(the)h(abo)o(v)o(e)2055 2382 y(optimizations,)e(we)g
(restarted)g(the)g(checking)f(of)h(the)g(benchmarks.)2055
2481 y(The)20 b(results)h(we)g(had)f(compiled)f(from)g(the)h
(unoptimized)f(v)o(ersion)2055 2581 y(of)24 b(the)h(check)o(er)e(were)i
(compared)d(with)j(the)f(results)h(of)f(the)h(opti-)2055
2680 y(mized)d(v)o(ersion)f(to)h(v)o(erify)f(correctness)h(and)f(then)h
(the)h(optimized)2055 2780 y(v)o(ersion)j(of)h(the)g(check)o(er)f(w)o
(as)h(used)g(for)g(the)g(remaining)e(bench-)2055 2880
y(marks.)38 b(The)24 b(ef)n(fecti)n(v)o(eness)g(of)g(the)h
(optimizations)e(can)i(be)f(seen)2055 2979 y(from)19
b(the)h(follo)n(wing)f(three)h(data)g(points:)p Black
2117 3133 a(1.)p Black 41 w(The)e(checking)f(time)i(for)f(the)h
(SPECfp-95)e(benchmark)f(pro-)2221 3232 y(gram)26 b Fp(fpppp)f
Fq(dropped)g(from)g(1)i(hour)e(51)i(minutes)f(43)g(sec-)2221
3332 y(onds)17 b(to)g(1)h(minute)f(56)g(seconds,)g(an)g(impro)o(v)o
(ement)d(of)j(about)2221 3431 y(58)j(times.)p Black 2117
3591 a(2.)p Black 41 w(The)40 b(time)g(for)f(the)h(SPECint-95)g
(benchmark)d Fp(compr)m(ess)2221 3691 y Fq(dropped)21
b(from)i(17)g(minutes)g(40)g(seconds)g(to)h(2)g(minutes)f(56)2221
3790 y(seconds,)d(an)g(impro)o(v)o(ement)d(of)j(about)f(6)h(times.)p
Black 2117 3950 a(3.)p Black 41 w(The)j(time)h(for)e(the)h(SPECint-95)g
(benchmark)e Fp(gcc)i Fq(dropped)2221 4049 y(from)e(8)g(hours)g(56)g
(minutes)g(to)g(1)h(hour)e(53)h(minutes,)g(an)g(im-)2221
4149 y(pro)o(v)o(ement)d(of)h(about)h(5)g(times.)2055
4302 y(The)k(dif)n(ferent)f(amounts)h(of)g(impro)o(v)o(ement)d(for)j
(these)h(programs)2055 4402 y(can)h(be)g(e)o(xplained)f(by)h(dif)n
(ferences)e(in)i(their)g(e)o(x)o(ecution)f(charac-)2055
4502 y(teristics.)57 b(The)30 b Fp(fpppp)g Fq(program)e(has)j(a)g
(well-de\002ned)e(hot)h(spot)2055 4601 y(consisting)i(of)f(a)i(loop)e
(containing)f(a)j(v)o(ery)e(lar)o(ge)g(basic)h(block;)2055
4701 y(hence,)19 b(caching)f(the)i(address)f(of)g(the)h(last)g
(instruction)f(a)n(v)n(oids)g(the)2055 4800 y(v)o(ery)f(lar)o(ge)g(o)o
(v)o(erhead)f(of)h(repeatedly)g(disassembling)g(this)i(block.)2055
4900 y(The)e Fp(compr)m(ess)h Fq(program)e(also)i(has)g(a)g
(well-de\002ned)e(hot)i(spot,)f(b)n(ut)2055 5000 y(it)j(contains)f
(much)f(smaller)h(basic)h(blocks)e(than)h(in)g Fp(fpppp)p
Fq(;)f(hence,)2055 5099 y(the)j(disassembly)g(o)o(v)o(erhead)d(is)k
(less)g(than)f(for)f Fp(fpppp)p Fq(,)g(so)i(there)e(is)2055
5199 y(less)e(room)e(for)g(speedup)g(due)h(to)g(caching.)23
b(The)17 b Fp(gcc)h Fq(program)e(has)2055 5299 y(a)27
b(much)e(more)h(dif)n(fuse)f(pro\002le)h(than)f Fp(fpppp)g
Fq(or)h Fp(compr)m(ess)p Fq(,)i(with)p Black 1928 5548
a(5)p Black eop
%%Page: 6 6
6 5 bop Black Black -118 90 a Fq(less)24 b(well-de\002ned)f(hot)g
(spots;)i(consequently)-5 b(,)22 b(cached)g(informa-)-118
190 y(tion)e(is)h(used)f(less)h(frequently)d(than)i(in)g(the)g(other)g
(tw)o(o)g(programs.)-35 293 y(Ev)o(en)e(with)h(the)g(abo)o(v)o(e)f
(caching)f(optimizations,)h(we)h(still)i(ha)n(v)o(e)-118
392 y(to)i(use)g Fp(ptr)o(ace)f Fq(to)h(disassemble)f(the)h
(instructions)e(in)i(a)g(block)f(the)-118 492 y(\002rst)h(time)g(the)g
(block)f(is)h(e)o(x)o(ecuted.)31 b(W)-7 b(e)24 b(attempted)e(to)h
(eliminate)-118 592 y(these)e Fp(ptr)o(ace)f Fq(calls)h(by)f(ha)n(ving)
g(the)h(check)o(er)e(use)i(the)g Fp(mmap)f Fq(sys-)-118
691 y(tem)28 b(call)h(to)g(access)g(the)f(te)o(xt)g(se)o(gment)g(of)g
(the)g(e)o(x)o(ecutable)f(\002le,)-118 791 y(which)k(is)i(a)n(v)n
(ailable)e(on)h(disk.)59 b(Ho)n(we)n(v)o(er)m(,)33 b(for)e(reasons)g
(we)h(do)-118 891 y(not)e(yet)g(understand,)g(this)g(gi)n(v)o(es)g(mix)
o(ed)f(results,)j(with)e(signi\002-)-118 990 y(cant)18
b(speedups)g(on)g(some)g(processors)f(and)h(slight)h(slo)n(wdo)n(wns)e
(on)-118 1090 y(others.)24 b(W)-7 b(e)22 b(are)e(currently)e(e)o
(xamining)g(this)j(puzzle.)-118 1360 y Fr(4)119 b(Implementation)51
b(and)g(En)-5 b(vir)n(onmen-)61 1510 y(tal)30 b(Issues)-118
1672 y Fq(W)-7 b(e)34 b(encountered)c(tw)o(o)j(kinds)g(of)f(issues)i
(when)e(implementing)-118 1771 y(and)15 b(testing)g(our)f(pro\002le)h
(checking)f(frame)n(w)o(ork.)21 b(The)15 b(\002rst)h(results)-118
1871 y(from)j(peculiarities)i(of)f(the)h(Intel)f(IA-32)f(\(Pentium\))h
(architecture)-118 1971 y(and)f(the)g(Linux)f(operating)g(system;)h
(other)g(processors)f(and)h(oper)n(-)-118 2070 y(ating)j(systems)g
(might)g(ha)n(v)o(e)f(similar)h(peculiarities.)30 b(The)22
b(second)-118 2170 y(kind)d(of)g(issue)h(arises)h(from)d(subtle)i(or)f
(nondeterministic)f(aspects)-118 2269 y(of)26 b(the)g(en)m(vironment)e
(in)i(which)g(the)h(pro\002ler)e(and)h(check)o(er)f(e)o(x)o(e-)-118
2369 y(cute;)30 b(these)d(issues)h(are)e(inherent)g(to)h(generating)e
(and)h(checking)-118 2469 y(pro\002les.)-118 2669 y Fh(4.1)99
b(Host)24 b(Pr)n(ocessor)h(and)h(Operating)f(System)-118
2805 y Fq(The)32 b(trap-based)e(pro\002le)i(check)o(er)f(follo)n(ws)h
(edges)f(in)i(the)f(con-)-118 2904 y(trol)i(\003o)n(w)g(graph)f(by)h
(\002nding)f(the)i(last)g(instruction)e(in)h(a)h(basic)-118
3004 y(block)29 b(and)g(single-stepping)f(that)j(instruction)d(to)i
(\002nd)g(the)g(\002rst)-118 3103 y(instruction)17 b(in)i(the)g(ne)o
(xt)f(basic)g(block.)24 b(Thus)18 b(we)h(assume)g(that)f(af-)-118
3203 y(ter)g(single-stepping)e(an)j(instruction,)e(the)h(program)e
(counter)h(con-)-118 3303 y(tains)k(the)g(address)g(of)f(the)h(ne)o(xt)
f(instruction)g(to)h(be)g(e)o(x)o(ecuted.)k(W)-7 b(e)-118
3402 y(found)18 b(tw)o(o)h(situations)g(that)h(we)g(ha)n(v)o(e)f(to)g
(treat)h(specially)f(because)-118 3502 y(this)27 b(assumption)f(does)h
(not)f(hold.)45 b(One)26 b(results)i(from)d(the)i(Pen-)-118
3602 y(tium)i(architecture')-5 b(s)27 b(repeating)g(string)i
(instructions;)j(the)d(other)-118 3701 y(results)24 b(from)e(ho)n(w)h
(the)h(Linux)e(implementation)g(of)h Fp(ptr)o(ace)g Fq(han-)-118
3801 y(dles)d(the)h(Pentium')-5 b(s)20 b(interrupt)e(instruction.)-35
3904 y(A)31 b(repeating)d(string)i(instruction)f(on)h(the)g(Pentium)g
(is)h(an)f(in-)-118 4003 y(struction)22 b(that)h(repeatedly)e(e)o(x)o
(ecutes)h(one)g(of)h(the)g(Pentium')-5 b(s)23 b(ba-)-118
4103 y(sic)31 b(string)e(instructions)g(until)g(a)i(speci\002ed)e
(terminating)f(condi-)-118 4203 y(tion)23 b(is)i(met;)g(then)f(the)f
(program)f(counter)g(adv)n(ances)g(to)i(the)g(ne)o(xt)-118
4302 y(instruction)31 b(in)i(the)g(te)o(xt)f(se)o(gment.)61
b(Thus,)35 b(a)e(repeating)e(string)-118 4402 y(instruction)19
b(is)i(essentially)f(a)h(one)e(instruction)g(loop,)g(b)n(ut)i(it)f(is)i
(en-)-118 4502 y(coded)e(as)j(a)f(single)f(instruction)g(with)h(no)f(e)
o(xplicit)g(control)f(trans-)-118 4601 y(fer)-5 b(.)41
b(Single-stepping)23 b(such)i(an)h(instruction)e(results)i(in)g(the)f
(pro-)-118 4701 y(gram)g(counter)f(remaining)f(on)i(the)h(instruction)e
(until)h(the)h(termi-)-118 4800 y(nating)d(condition)f(is)i(met.)36
b(Thus,)24 b(when)f(such)g(an)h(instruction)e(is)-118
4900 y(the)30 b(last)h(instruction)e(in)h(a)g(basic)h(block\227a)e
(situation)g(we)i(ha)n(v)o(e)-118 5000 y(seen)21 b(se)n(v)o(eral)f
(times\227we)h(cannot)e(single)i(step)g(the)g(original)e(pro-)-118
5099 y(gram)25 b(to)h(get)g(to)g(the)f(\002rst)i(instruction)d(in)i
(the)g(ne)o(xt)f(basic)h(block.)-118 5199 y(On)c(the)f(other)g(hand,)g
(we)h(kno)n(w)e(that)i(the)g(\002rst)g(instruction)f(of)g(the)-118
5299 y(ne)o(xt)30 b(basic)i(block)e(will)i(be)f(the)g(instruction)f
(follo)n(wing)f(the)i(re-)p Black Black 2055 90 a(peating)e(string)h
(instruction.)53 b(In)30 b(this)h(special)f(case,)j(we)d(single)2055
190 y(step)d(multiple)g(times)g(until)g(the)f(program)f(counter)h(adv)n
(ances)f(to)2055 289 y(the)c(ne)o(xt)f(instruction)g(address)h(and)f
(then)h(proceed)e(as)j(in)f(the)g(nor)n(-)2055 389 y(mal)f(case.)2138
489 y(The)28 b(second)g(problematic)f(situation)h(results)h(from)e(the)
i(Pen-)2055 589 y(tium')-5 b(s)23 b Fi(int)f Fq(\(interrupt\))f
(instruction.)30 b(Under)22 b(Linux,)f(the)i(ef)n(fect)2055
688 y(of)c(using)g Fp(ptr)o(ace)f Fq(to)h(single-step)g(an)g(interrupt)
e(instruction)h(is)i(that)2055 788 y(the)c(instruction)e(follo)n(wing)h
(the)g(interrupt)g(is)h(skipped,)g(so)g(the)f(pro-)2055
888 y(gram)k(counter)g(ends)h(up)f(pointing)g(to)h(the)g(second)f
(instruction)g(af-)2055 987 y(ter)24 b(the)f(interrupt.)33
b(Thus,)24 b(when)f Fi(int)g Fq(is)i(the)e(last)h(instruction)f(of)2055
1087 y(a)i(basic)f(block,)h(the)f(trap-based)f(pro\002le)g(check)o(er)h
(stores)g(the)h(ad-)2055 1187 y(dress)18 b(of)g(the)f(instruction)g
(after)g(the)h Fi(int)g Fq(and)f(sets)i(a)f(\003ag)g(indicat-)2055
1286 y(ing)e(that)f(the)h(last)h(instruction)d(in)i(the)g(basic)g
(block)f(is)h(an)g Fi(int)p Fq(.)24 b(The)2055 1386 y(check)o(er)c
(then)g(single-steps)g(the)h Fi(int)g Fq(to)g(determine)e(the)i
(address)2055 1485 y(of)j(the)h(second)e(instruction)g(of)h(the)h(ne)o
(xt)e(basic)i(block.)36 b(The)24 b(\003ag)2055 1585 y(that)19
b(w)o(as)g(set)g(causes)g(the)g(stored)f(address)g(of)g(the)g(\002rst)i
(instruction)2055 1685 y(of)e(the)h(basic)g(block)e(to)i(be)g(used.)24
b(In)18 b(addition,)f(the)i(address)f(of)g(the)2055 1784
y(second)23 b(instruction)g(is)i(v)o(eri\002ed.)35 b(This)24
b(situation)g(is)g(rare,)h(b)n(ut)f(of)2055 1884 y(course)c(it)g(still)
i(has)e(to)h(be)f(detected)f(and)h(handled.)2055 2068
y Fh(4.2)99 b(Execution)26 b(En)l(vir)n(onment)2055 2199
y Fq(If)34 b(the)g(e)o(x)o(ecution)d(en)m(vironment)g(of)j(the)f
(pro\002ler)g(and)g(check)o(er)2055 2298 y(dif)n(fer)m(,)26
b(the)g(check)o(er)f(might)g(see)i(errors)e(in)h(the)h(pro\002le)e
(data)h(and)2055 2398 y(produce)e(diagnostic)g(messages)i(e)n(v)o(en)f
(if)g(the)h(pro\002le)f(is)i(correct.)2055 2497 y(Here,)e(\223en)m
(vironment\224)c(refers)i(to)i(the)f(settings)g(of)g(a)h(user')-5
b(s)24 b(shell)2055 2597 y(v)n(ariables)18 b(and)g(an)o(ything)e(else)j
(e)o(xternal)e(to)i(the)g(program)d(that)j(can)2055 2697
y(af)n(fect)28 b(its)h(e)o(x)o(ecution.)47 b(This)28
b(can)g(e)n(v)o(en)f(include)g(such)h(minutiae)2055 2796
y(as)i(the)f(number)e(of)i(characters)f(in)h(the)g(command)e(line)i
(used)g(to)2055 2896 y(in)m(v)n(ok)o(e)18 b(the)h(program,)e(because)h
(this)i(af)n(fects)f(the)g(code)f(that)i(reads)2055 2996
y(in)25 b(and)e(parses)i(the)f(command)e(line)j(options.)36
b(F)o(or)24 b(e)o(xample,)g(we)2055 3095 y(found)15 b(small)h(dif)n
(ferences)f(in)h(pro\002les)g(of)g(the)g(string)g(library)f(func-)2055
3195 y(tion)35 b Fp(strr)m(c)o(hr)i Fq(when)d(programs)g(being)g(v)o
(eri\002ed)h(were)g(in)m(v)n(ok)o(ed)2055 3294 y(with)d(a)g(slightly)f
(dif)n(ferent)f(path)h(to)g(the)h(output)e(\002le)i(compared)2055
3394 y(to)27 b(when)g(their)f(pro\002les)h(were)g(originally)e
(generated.)43 b(The)27 b(les-)2055 3494 y(son)22 b(here)g(is)h(that)f
(one)g(has)g(to)g(be)g(careful)g(when)f(interpreting)f(the)2055
3593 y(output)h(from)g(the)h(check)o(er)f(to)h(distinguish)g(genuine)e
(errors)h(from)2055 3693 y(e)o(xplainable)h(dif)n(ferences)g(due)h(to)h
(dif)n(ferent)e(e)o(x)o(ecution)g(en)m(viron-)2055 3793
y(ments.)2138 3893 y(A)29 b(situation)f(that)h(is)g(harder)f(to)g(deal)
h(with)g(occurs)e(when)h(the)2055 3992 y(e)o(x)o(ecution)14
b(of)i(the)g(program)e(being)h(pro\002led)g(or)h(check)o(ed)f(depends)
2055 4092 y(on)27 b(some)h(nondeterministic)d(aspect)j(of)g(its)g(en)m
(vironment,)f(such)2055 4192 y(as)32 b(the)g(time)g(of)f(day)-5
b(.)58 b(F)o(or)31 b(e)o(xample,)i(the)f(follo)n(wing)d(program)2055
4291 y(fragment)g(uses)i(the)g(results)g(of)f(the)h(standard)e(library)
h(function)2055 4391 y Fp(time\(\))25 b Fq(to)g(initialize)g(the)g
(random)e(number)g(generator)m(,)g(and)i(then)2055 4490
y(uses)c(the)f(random)e(number)h(generator)f(to)i(generate)f(hash)h
(codes:)p Black Black Black Black 2221 4650 a Fe(srand\()44
b(time\(NULL\))f(\);)2221 4741 y(...)2221 4832 y(hash_code)g(=)i
(\(random\(\)*index\))d(\045)j(hash_table_sz;)2055 5000
y Fq(If)23 b(this)h(kind)e(of)h(code)g(occurs)f(in)h(the)h(original)e
(program,)f(no)i(tw)o(o)2055 5099 y(e)o(x)o(ecutions)14
b(of)h(the)h(program)d(w)o(ould)i(e)n(v)o(er)g(ha)n(v)o(e)g(e)o(xactly)
g(the)g(same)2055 5199 y(pro\002les.)30 b(Hence,)22 b(a)h(pro\002le)e
(check)o(er)g(will)i(al)o(w)o(ays)f(disco)o(v)o(er)f(dif-)2055
5299 y(ferences.)j(Moreo)o(v)o(er)m(,)16 b(by)j(using)f(a)i(pro\002le)e
(checking)f(frame)n(w)o(ork)p Black 1928 5548 a(6)p Black
eop
%%Page: 7 7
7 6 bop Black Black -118 90 a Fq(such)30 b(as)i(that)f(described)f(in)h
(this)g(paper)m(,)h(such)e(dif)n(ferences)g(be-)-118
190 y(come)22 b(e)o(xplicit)h(and)f(hence)h(get)g(noticed;)g(Section)g
(5)g(describes)g(a)-118 289 y(real)d(e)o(xample)f(that)h(we)h(disco)o
(v)o(ered.)-35 391 y(One)31 b(concludes)f(from)g(this)i(that)f(the)h
(output)e(from)g(the)h(pro-)-118 490 y(\002le)20 b(check)o(er)f(must)h
(be)f(re)n(vie)n(wed)g(carefully)f(to)i(determine)f(which)-118
590 y(dif)n(ferences)36 b(are)i(caused)f(by)g(real)h(errors)f(in)g(the)
h(pro\002le)f(data)-118 690 y(and)25 b(which)g(are)h(en)m(vironmental)c
(dif)n(ferences)i(that)i(were)g(not,)g(or)-118 789 y(could)e(not)g(be,)
i(duplicated.)37 b(In)25 b(our)f(use)h(of)f(the)h(pro\002le)f(check)o
(er)-118 889 y(for)29 b(PL)-8 b(T)o(O)29 b(edge)g(count)g(pro\002les,)i
(the)f(major)f(sources)g(of)g(en)m(vi-)-118 989 y(ronmental)20
b(dif)n(ferences)f(are)j(the)f(standard)f(library)h(initialization)-118
1088 y(code,)37 b(the)e(program)d(startup)j(code,)i(and)d(the)h(lo)n
(wer)n(-le)n(v)o(el)e(im-)-118 1188 y(plementations)26
b(of)h(standard)f(library)g(functions.)45 b(These)27
b(dif)n(fer)n(-)-118 1287 y(ences)d(are)h(seen)f(because)g(PL)-8
b(T)o(O)24 b(operates)g(on)g(statically)h(link)o(ed)-118
1387 y(programs;)31 b(hence,)g(the)e(standard)e(library)h(code)h(is)g
(also)h(instru-)-118 1487 y(mented.)c(In)21 b(practice,)f(it)i(is)f
(not)g(clear)g(ho)n(w)f(signi\002cant)h(an)g(ef)n(fect)-118
1586 y(en)m(vironmental)26 b(dif)n(ferences)i(may)h(ha)n(v)o(e)f(on)h
(dif)n(ferent)f(types)h(of)-118 1686 y(pro\002les,)19
b(b)n(ut)i(it)g(is)g(something)d(that)j(needs)e(to)i(be)f(k)o(ept)g(in)
g(mind.)-118 1948 y Fr(5)119 b(Results)-118 2107 y Fq(The)27
b(w)o(ay)g(we)h(originally)e(tested)h(our)g(implementation)e(of)i(edge)
-118 2207 y(pro\002ling)17 b(using)i(PL)-8 b(T)o(O)18
b(is,)i(we)f(belie)n(v)o(e,)f(f)o(airly)h(representati)n(v)o(e)d(of)
-118 2306 y(the)21 b(pre)n(v)n(ailing)e(practice)i(with)g(re)o(gards)f
(to)h(testing)h(pro\002lers.)27 b(W)-7 b(e)-118 2406
y(e)o(xamined)25 b(the)i(instrumentation)d(code)j(by)f(\223e)o
(yeballing\224)f(it)j(and)-118 2505 y(check)o(ed)h(the)h(generated)e
(pro\002les)h(manually)g(on)h(modest)f(sized)-118 2605
y(test)d(programs)e(where)h(it)h(w)o(as)h(practical)e(to)g(manually)g
(compute)-118 2705 y(the)g(v)n(arious)e(edge)i(counts.)38
b(The)24 b(generated)f(pro\002les)i(were)g(then)-118
2804 y(used)30 b(to)h(guide)f(the)g(implementation)f(and)h(e)n(v)n
(aluation)e(of)j(opti-)-118 2904 y(mizations,)21 b(where)g(the)h
(pro\002les)f(were)h(themselv)o(es)f(subjected)g(to)-118
3004 y(scrutin)o(y)-5 b(.)39 b(There)24 b(w)o(as)j(no)e(indication,)g
(during)e(an)o(y)i(of)g(this,)i(that)-118 3103 y(the)18
b(pro\002les)g(were)h(inaccurate)e(in)h(an)o(y)g(w)o(ay)-5
b(.)24 b(W)-7 b(e)19 b(were)f(surprised,)-118 3203 y(therefore,)25
b(when)f(our)h(trap-based)f(check)o(er)g(e)o(xposed)g(situations)-118
3302 y(in)16 b(which)f(the)h(generated)d(pro\002les)j(did)f(not)g
(re\003ect)h(the)g(actual)f(run-)-118 3402 y(time)20
b(edge)g(counts)f(of)h(programs.)-35 3503 y(The)25 b(inaccuracies)f(we)
i(disco)o(v)o(ered)d(f)o(all)j(into)f(tw)o(o)h(broad)e(cat-)-118
3603 y(e)o(gories.)52 b(The)29 b(\002rst)h(cate)o(gory)d(in)m(v)n(olv)o
(es)i(dif)n(ferences)e(in)j(e)o(x)o(ecu-)-118 3703 y(tion)19
b(counts)g(for)h(standard)e(library)h(functions,)f(such)h(as)i
Fp(open)e Fq(and)-118 3802 y Fp(write)p Fq(,)k(that)f(are)g(used)g
(both)f(by)g(the)h(application)e(and)i(by)f(the)h(pro-)-118
3902 y(\002ler)e(to)f(write)h(out)f(the)h(pro\002le)e(data)i(at)g(the)f
(end)g(of)g(the)h(program')-5 b(s)-118 4002 y(e)o(x)o(ecution.)45
b(The)28 b(ef)n(fect)f(is)i(that)f(the)f(counts)h(obtained)e(for)h
(con-)-118 4101 y(trol)h(\003o)n(w)h(edges)f(in)g(these)h(functions)e
(are)h(slightly)g(higher)g(than)-118 4201 y(their)i(actual)h(v)n
(alues.)57 b(W)-7 b(e)32 b(kne)n(w)e(that)h(there)f(w)o(ould)g(be)h
(dif)n(fer)n(-)-118 4300 y(ences)24 b(for)g(these)h(functions;)g(the)f
(check)o(er)g(ga)n(v)o(e)f(us)i(quantitati)n(v)o(e)-118
4400 y(output)19 b(telling)h(us)g(ho)n(w)g(f)o(ar)g(of)n(f)g(the)g
(counts)f(were.)-35 4502 y(The)j(second)g(type)g(of)h(inaccurac)o(y)e
(results)i(from)e(inserting)h(in-)-118 4601 y(strumentation)k(code)i
(into)g(the)h(program)d(being)h(pro\002led.)49 b(This)-118
4701 y(causes)32 b(addresses)g(to)g(change,)i(thereby)d(changing)f(the)
i(e)o(x)o(ecu-)-118 4800 y(tion)g(beha)n(vior)e(of)i(the)g(program)e
(as)j(well.)61 b(It)33 b(manifests)e(itself)-118 4900
y(in)i(the)g(SPECint-95)f(program)f Fp(gcc)p Fq(,)k(where)d(se)n(v)o
(eral)h(functions)-118 5000 y(ha)n(v)o(e)23 b(edge)g(counts)g(that)h
(dif)n(fer)f(between)g(the)h(instrumented)e(and)-118
5099 y(uninstrumented)f(v)o(ersions)i(of)g(the)h(program.)34
b(While)24 b(the)g(dif)n(fer)n(-)-118 5199 y(ences)17
b(are)h(small\227around)d(1.5\2263\045\227the)o(y)g(are)i(still)i
(signi\002cant.)-118 5299 y(Moreo)o(v)o(er)m(,)32 b(the)g(presence)f
(of)h(these)g(inaccuracies)f(w)o(as)h(a)h(total)p Black
Black 2055 90 a(surprise.)24 b(It)c(turns)f(out)g(that)h(this)g
(program)d(contains)i(code)g(\227)h(\002le)2055 190 y
Fi(cse.c)p Fq(,)g(function)e Fi(canon)p 2898 190 25 4
v 29 w(hash\(\))i Fq(\227)h(that)f(has)g(the)g(form)p
Black Black Black Black 2221 328 a Fe(switch)44 b(\(..\))g({)2311
420 y(...)2311 511 y(case)g(SYMBOL_REF:)2400 602 y(return)g(\(hash)2580
694 y(+)g(\(\(HOST_WIDE_INT\)SYMBOL_REF)d(<<)j(7\))2714
785 y(+)h(\(\(HOST_WIDE_INT\))d(XEXP\(x,)i(0\))2894 876
y(&)g(\(\(1)h(<<)f(HASHBITS\))f(-)i(1\)\)\);)2221 968
y(})2055 1114 y Fq(where)25 b Fi(XEXP\(x,0\))g Fq(yields)g(a)h(pointer)
f(v)n(alue)f(from)h(the)h(struc-)2055 1214 y(ture)35
b(that)h Fi(x)f Fq(points)g(to.)71 b(Thus,)38 b(the)e(code)e(uses)i
(addresses)f(to)2055 1313 y(calculate)30 b(hash)g(v)n(alues.)55
b(Since)30 b(the)h(instrumented)d(e)o(x)o(ecutable)2055
1413 y(has)h(a)f(dif)n(ferent)f(size)i(than)f(the)g(original)f(e)o(x)o
(ecutable,)h(heap)g(ad-)2055 1513 y(dresses)d(start)g(at)g(a)g(dif)n
(ferent)e(location)g(in)i(the)f(instrumented)f(e)o(x-)2055
1612 y(ecutable.)52 b(Because)30 b(of)f(this,)j(the)d(hash)h(table)f
(is)h(actually)f(con-)2055 1712 y(structed)24 b(slightly)g(dif)n
(ferently)e(in)i(the)g(instrumented)f(code)g(com-)2055
1812 y(pared)15 b(to)g(the)h(original)e(code.)23 b(This,)16
b(in)g(turn)e(causes)i(the)f(e)o(x)o(ecution)2055 1911
y(of)24 b(code)g(that)g(tra)n(v)o(erses)g(this)h(data)f(structure)f(to)
i(beha)n(v)o(e)e(slightly)2055 2011 y(dif)n(ferently)17
b(in)j(the)f(tw)o(o)h(v)o(ersions.)j(Note)c(that)h(in)f(general)f(it)i
(is)h(not)2055 2110 y(possible)f(to)g(control)f(the)i(starting)e
(address)h(of)g(the)g(heap.)2138 2210 y(While)36 b(the)g(inaccuracies)f
(turn)g(out)g(to)h(be)f(relati)n(v)o(ely)g(small)2055
2310 y(in)28 b(each)f(of)h(these)g(cases,)i(and)d(benign)f(from)h(the)g
(standpoint)g(of)2055 2409 y(code)32 b(optimization,)i(the)f(important)
e(point)h(is)i(that)f(the)g(pro\002le)2055 2509 y(check)o(er)c
(correctly)g(identi\002ed)g(an)h(instrumentation)d(error)i(\227)i(a)
2055 2609 y(situation)18 b(where)f(the)h(instrumented)e(e)o(x)o
(ecutable)g(beha)n(v)o(es)h(dif)n(fer)n(-)2055 2708 y(ently)25
b(than)h(the)f(original)g(e)o(x)o(ecutable.)39 b(The)25
b(system)h(implemen-)2055 2808 y(tors)g(can)g(then)f(e)o(xamine)f(the)i
(reasons)g(for)f(the)h(discrepancies)e(in)2055 2907 y(e)o(x)o(ecution)k
(counts)h(and)g(address)g(them)h(as)g(appropriate.)51
b(Since)2055 3007 y(the)20 b(focus)g(of)g(our)f(pro\002le)g(check)o(er)
g(is)i(to)g(detect)f(instrumentation)2055 3107 y(errors,)33
b(these)e(results)g(sho)n(w)g(that)g(our)g(technique)e(does)i(in)g(f)o
(act)2055 3206 y(w)o(ork.)2138 3306 y(This)21 b(e)o(xample)f
(illustrates)h(that)h(\223real\224)e(programs)f(can)i(and)g(do)2055
3406 y(use)e(code)g(whose)g(beha)n(vior)e(can)i(change)f(due)g(to)h
(the)h(presence)e(of)2055 3505 y(instrumentation)23 b(code.)37
b(Indeed,)24 b(it)h(is)h(easy)f(to)f(e)o(xtend)g(the)g(idea)2055
3605 y(to)31 b(write)f(similar)h(programs)e(in)h(which)g(the)g
(instrumented)f(v)o(er)n(-)2055 3704 y(sion)g(beha)n(v)o(es)g(v)o(ery)f
(dif)n(ferently)-5 b(,)28 b(with)i(a)f(completely)f(dif)n(ferent)2055
3804 y(hot)e(spot,)j(than)d(the)g(uninstrumented)e(original.)44
b(This)26 b(is)i(sho)n(wn)2055 3904 y(in)22 b(Figure)f(2.)29
b(The)22 b(original)e(v)o(ersion)h(of)g(this)h(program)e(incurs)h(no)
2055 4003 y(collisions)g(while)h(inserting)e(into)i(the)f(hash)g
(table,)g(b)n(ut)h(the)f(PL)-8 b(T)o(O)2055 4103 y(instrumented)19
b(v)o(ersion)h(incurs)g(a)h(collision)g(at)g(e)n(v)o(ery)e(iteration)i
(of)2055 4203 y(the)e(loop,)f(i.e.,)h Fp(all)h Fq(the)f(v)n(alues)f
(hash)h(into)g(the)g(same)g(b)n(uck)o(et!)24 b(This)2055
4302 y(dramatic)j(change)f(in)h(beha)n(vior)f(is)i(the)f(result)h(of)f
(the)g(PL)-8 b(T)o(O)28 b(in-)2055 4402 y(strumentation)e(changing)h
(the)h(alignment)f(of)h(the)g(data)g(section.)2055 4502
y(Granted,)18 b(this)i(e)o(xample)e(is)j(a)e(manuf)o(actured)e(one,)i
(b)n(ut)g(it)h(demon-)2055 4601 y(strates)f(the)f(potential)f(change)g
(in)i(program)d(beha)n(vior)g(that)i(can)g(be)2055 4701
y(caused)i(by)g(instrumentation.)2138 4800 y(These)e(discrepancies)f
(in)h(pro\002ling)e(results)j(also)f(highlight)e(the)2055
4900 y(f)o(act)k(that)h(manual)e(checking)f(is)j(not)f(adequate)f(for)g
(testing)h(pro\002l-)2055 5000 y(ers)i(for)f(correctness.)27
b(F)o(or)21 b(e)o(xample,)f(it)i(is)h(completely)c(impracti-)2055
5099 y(cal)k(to)g(manually)f(check)g(the)h(e)o(x)o(ecution)d
(pro\002les)j(for)f(a)h(program)2055 5199 y(comparable)f(in)j(size)g
(to)g Fp(gcc)p Fq(.)37 b(The)24 b(problem)f(is)i(only)f(magni\002ed)
2055 5299 y(if)19 b(we)h(consider)e(more)g(comple)o(x)f(pro\002les,)h
(such)h(as)h(v)n(alue)e(or)h(path)p Black 1928 5548 a(7)p
Black eop
%%Page: 8 8
8 7 bop Black Black Black Black Black Black Black 48
589 a Fe(#include)43 b(<stdlib.h>)48 680 y(#include)g(<stdio.h>)48
772 y(#define)h(HASH_SIZE)f(1024)48 863 y(#define)h(LOOP_COUNT)f(1000)
48 954 y(#define)h(MOD)g(2)48 1046 y(struct)g(hash_entry)f({)227
1137 y(int)i(data;)227 1228 y(struct)f(hash_entry)f(*next;)48
1320 y(};)48 1411 y(static)h(struct)g(hash_entry)f(*HashTable[)g
(HASH_SIZE)g(];)48 1502 y(static)h(int)g(collisions)f(=)i(0;)48
1593 y(int)f(hash_value\()f(int)i(data)f(\))g({)227 1685
y(int)h(x)f(=)h(\(int\))f(HashTable;)227 1776 y(return)g(\(\(data)g(*)h
(\(\(x)f(/)h(0x100)f(\))g(\045)h(MOD\)\))f(\))h(\045)f(HASH_SIZE;)48
1867 y(})48 1959 y(void)g(hash_insert\()f(int)h(data)g(\))h({)227
2050 y(int)g(hash)f(=)g(hash_value\()f(data)i(\);)227
2141 y(struct)f(hash_entry)f(*entry)h(=)h(malloc\()e(sizeof\(struct)g
(hash_entry\))g(\);)227 2233 y(entry->data)g(=)i(data;)227
2324 y(entry->next)e(=)i(NULL;)227 2415 y(if)g(\()f(HashTable[hash])f
(!=)h(NULL)g(\))h({)407 2507 y(struct)e(hash_entry)h(*temp)g(=)g
(HashTable[hash];)407 2689 y(collisions++;)407 2872 y(while)g(\()g
(temp->next)f(!=)i(NULL)f(\))h({)586 2963 y(temp)f(=)h(temp->next;)407
3055 y(})407 3146 y(temp->next)e(=)h(entry;)227 3237
y(})h(else)f({)407 3329 y(HashTable[hash])e(=)j(entry;)227
3420 y(})48 3511 y(})48 3694 y(int)f(main\()g(int)h(argc,)f(char)g
(*argv[])f(\))i({)227 3785 y(int)g(i;)227 3968 y(for)g(\()f(i)h(=)g(0;)
f(i)h(<)f(LOOP_COUNT;)f(i++)i(\))f({)407 4059 y(hash_insert\()e(i)j
(\);)227 4151 y(})227 4242 y(printf\()f("HashTable)f(=)i(\045p\\n",)f
(HashTable)f(\);)227 4333 y(printf\()h("collisions)f(=)i(\045d\\n",)e
(collisions)h(\);)227 4425 y(return)g(0;)48 4516 y(})p
Black 805 4748 a Fq(Figure)19 b(2:)25 b(A)c(program)d(whose)i(beha)n
(vior)f(changes)g(due)g(to)i(instrumentation)p Black
Black Black 1928 5548 a(8)p Black eop
%%Page: 9 9
9 8 bop Black Black Black Black Black 698 11 2501 4 v
696 110 4 100 v 748 80 a Fd(Program)p 1107 110 V 1107
110 V 521 w(Ex)o(ecution)18 b(T)m(ime)i(\(secs\))p 2747
110 V 498 w(Slo)n(wdo)n(wn)p 3198 110 V 1109 113 1641
4 v 696 210 4 100 v 1107 210 V 1158 180 a Fq(Normal)g(\()p
Fl(T)1510 192 y Fc(N)1572 180 y Fq(\))p 1648 210 V 99
w(Pro\002le)g(\()p Fl(T)2018 192 y Fc(P)2073 180 y Fq(\))p
2149 210 V 99 w(Checking)f(\()p Fl(T)2616 192 y Fc(C)2671
180 y Fq(\))p 2747 210 V 159 w Fl(T)2907 192 y Fc(C)2962
180 y Fl(=T)3053 192 y Fc(P)p 3198 210 V 698 213 2501
4 v 698 230 V 696 329 4 100 v 748 299 a Fp(compr)m(ess)p
1107 329 V 312 w Fq(0.03)p 1648 329 V 354 w(0.29)p 2149
329 V 472 w(176)p 2747 329 V 263 w(606.9)p 3198 329 V
698 333 2501 4 v 696 432 4 100 v 748 402 a Fp(gcc)p 1107
432 V 507 w Fq(0.97)p 1648 432 V 313 w(11.99)p 2149 432
V 430 w(6774)p 2747 432 V 262 w(565.0)p 3198 432 V 698
436 2501 4 v 696 535 4 100 v 748 505 a Fp(go)p 1107 535
V 539 w Fq(0.47)p 1648 535 V 354 w(3.64)p 2149 535 V
431 w(2128)p 2747 535 V 262 w(584.6)p 3198 535 V 698
539 2501 4 v 696 638 4 100 v 748 608 a Fp(ijpe)m(g)p
1107 638 V 418 w Fq(13.74)p 1648 638 V 312 w(82.41)p
2149 638 V 388 w(51310)p 2747 638 V 262 w(622.6)p 3198
638 V 698 641 2501 4 v 696 741 4 100 v 748 711 a Fp(li)p
1107 741 V 577 w Fq(0.11)p 1648 741 V 354 w(1.67)p 2149
741 V 431 w(1135)p 2747 741 V 262 w(679.6)p 3198 741
V 698 744 2501 4 v 696 844 4 100 v 748 814 a Fp(m88ksim)p
1107 844 V 286 w Fq(12.87)p 1648 844 V 270 w(192.48)p
2149 844 V 347 w(125839)p 2747 844 V 261 w(653.8)p 3198
844 V 698 847 2501 4 v 696 947 4 100 v 748 917 a Fp(perl)p
1107 947 V 489 w Fq(2.68)p 1648 947 V 313 w(16.31)p 2149
947 V 388 w(11427)p 2747 947 V 262 w(700.6)p 3198 947
V 698 950 2501 4 v 696 1050 4 100 v 748 1020 a Fp(vorte)n(x)p
1107 1050 V 417 w Fq(2.23)p 1648 1050 V 313 w(16.61)p
2149 1050 V 388 w(11543)p 2747 1050 V 262 w(694.9)p 3198
1050 V 698 1053 2501 4 v 698 1070 V 696 1169 4 100 v
1377 1140 a(G)t Fn(E)t(O)t(M)t(E)t(T)t(R)t(I)t(C)25 b(M)t(E)t(A)t(N)t
Fq(:)p 2747 1169 V 811 w(636.7)p 3198 1169 V 698 1173
2501 4 v Black 1053 1404 a(T)-7 b(able)20 b(1:)25 b(Runtime)20
b(o)o(v)o(erheads)e(of)i(pro\002ling)f(and)g(checking)p
Black Black -118 1671 a(pro\002les.)24 b(A)19 b(means)f(for)g
(automatically)g(checking)f(pro\002le)h(data)g(is)-118
1770 y(necessary)h(in)i(order)e(to)h(test)h(pro\002lers)f(thoroughly)-5
b(.)-35 1879 y(As)28 b(a)g(side)f(note,)i(our)d(pro\002le)h(check)o(er)
f(also)i(helped)e(to)i(track)-118 1979 y(do)n(wn)17 b(a)i
(non-pro\002le-related)c(problem)i(in)i(PL)-8 b(T)o(O.)18
b(The)g(SPECfp-)-118 2078 y(95)32 b(benchmark)e(program)h
Fp(applu)g Fq(w)o(as)j(kno)n(wn)d(to)i(crash)g(when)-118
2178 y(optimized)23 b(with)h(PL)-8 b(T)o(O,)23 b(b)n(ut)h(tracking)f
(do)n(wn)g(the)h(problem)e(w)o(as)-118 2277 y(pro)o(ving)d(dif)n
(\002cult.)29 b(It)22 b(turned)f(out)g(that)h(the)g(process)f(of)h
(checking)-118 2377 y(the)17 b(pro\002le)g(data)g(for)f(this)i(program)
d(unco)o(v)o(ered)f(some)j(discrepan-)-118 2477 y(cies)j(that)g
(suggested)f(a)h(periodic)e(corruption)f(of)j(memory)e(during)-118
2576 y(e)o(x)o(ecution.)k(This)d(turned)f(out)g(to)h(be)g(a)g(useful)f
(insight)g(that)h(helped)-118 2676 y(focus)30 b(our)g(subsequent)f(in)m
(v)o(estigations)f(into)i(the)h(problem)e(and)-118 2776
y(e)n(v)o(entually)18 b(led)i(us)h(to)f(identify)f(the)i(actual)f
(cause.)-35 2884 y(T)-7 b(able)26 b(1)h(sho)n(ws)g(the)f(e)o(x)o
(ecution)f(time)i(o)o(v)o(erhead)d(incurred)g(by)-118
2984 y(pro\002le)17 b(checking)f(relati)n(v)o(e)h(to)i(the)e(time)i
(tak)o(en)e(to)h(pro\002le)f(the)h(pro-)-118 3083 y(grams)31
b(in)h(the)g(SPECint-95)f(benchmark)e(suite)j(using)g(con)m(v)o(en-)
-118 3183 y(tional)c(instrumentation)f(techniques.)49
b(The)29 b(\223Normal\224)e(column)-118 3282 y(gi)n(v)o(es)20
b(the)g(e)o(x)o(ecution)f(times)h(for)g(the)h(benchmarks;)d(the)i
(\223Pro\002le\224)-118 3382 y(column)d(gi)n(v)o(es)h(the)g(e)o(x)o
(ecution)e(times)j(for)f(instrumented)e(v)o(ersions)-118
3482 y(of)21 b(the)g(programs)f(that)h(generate)f(pro\002les;)i(the)g
(\223Checking\224)d(col-)-118 3581 y(umn)k(gi)n(v)o(es)g(the)h(e)o(x)o
(ecution)d(times)k(to)f(check)e(the)i(generated)e(pro-)-118
3681 y(\002les.)j(All)20 b(programs)c(in)j(the)g(same)g(ro)n(w)f(had)g
(the)h(same)f(input)g(data)-118 3781 y(\(the)i(SPECint-2000)f(training)
h(input)g(for)g(that)h(benchmark\).)i(Our)-118 3880 y(e)o(xperiments)j
(were)i(run)f(on)g(an)h(unloaded)e(2)i(GHz)g(Pentium)f(IV)-118
3980 y(w)o(orkstation)h(with)i(1)g(GB)g(of)g(main)f(memory)-5
b(,)30 b(running)d(Redhat)-118 4079 y(Linux)d(7.3.)38
b(The)25 b(programs)e(were)i(compiled)e(with)j Fp(gcc)e
Fq(v)o(ersion)-118 4179 y(2.96)j(at)i(optimization)e(le)n(v)o(el)h
Fi(-O3)g Fq(and)g(statically)g(link)o(ed,)i(with)-118
4279 y(additional)19 b(\003ags)h(to)g(instruct)g(the)g(link)o(er)g(to)g
(retain)g(relocation)e(in-)-118 4378 y(formation.)233
4348 y Fm(3)321 4378 y Fq(It)32 b(can)f(be)g(seen)g(that)g(checking)e
(incurs)i(an)f(o)o(v)o(er)n(-)-118 4478 y(head)d(of)i(roughly)d(tw)o(o)
i(orders)g(of)g(magnitude)e(\(about)h Fb(600)p Ff(\002)g
Fq(to)-118 4578 y Fb(700)p Ff(\002)p Fq(\))d(relati)n(v)o(e)g(to)i(con)
m(v)o(entional)c(pro\002ling.)39 b(While)26 b(this)g(slo)n(w-)-118
4677 y(do)n(wn)19 b(is)j(lar)o(ge,)d(the)h(check)o(er)g(has)g(to)h(be)f
(run)g(only)g(once)f(to)i(check)-118 4777 y(a)28 b(speci\002c)g
(pro\002le.)46 b(More)27 b(importantly)-5 b(,)27 b(our)f(checking)g
(frame-)-118 4877 y(w)o(ork)32 b(mak)o(es)h(it)g(possible)g(to)g(check)
f(lar)o(ge)f(pro\002les)i(generated)p Black -118 4983
785 4 v -28 5038 a Fk(3)1 5062 y Fn(The)16 b(requirement)i(for)e
(statically)k(link)o(ed)d(e)o(x)o(ecutables)j(is)15 b(a)h(result)h(of)f
(the)h(f)o(act)-118 5141 y(that)k Fj(PL)o(T)o(O)e Fn(relies)j(on)e(the)
i(presence)g(of)e(relocation)k(information)e(to)f(distinguish)-118
5220 y(addresses)c(from)e(data.)22 b(The)15 b(Unix)h(link)o(er)i
Fa(ld)d Fn(refuses)h(to)g(retain)i(relocation)h(infor)o(-)-118
5299 y(mation)f(for)f(e)o(x)o(ecutables)j(that)f(are)e(not)h
(statically)i(link)o(ed.)p Black Black Black 2055 1671
a Fq(by)33 b(lar)o(ge)g(programs\227which)d(is)35 b(not)e(possible)g
(using)g(e)o(xisting)2055 1770 y(techniques\227and)18
b(to)i(do)g(so)h(automatically)-5 b(.)2055 2092 y Fr(6)119
b(Conclusions)2055 2272 y Fq(While)40 b(e)o(x)o(ecution)d(pro\002les)i
(play)f(an)h(increasingly)f(important)2055 2371 y(role)i(in)h(guiding)e
(compiler)g(optimizations,)44 b(the)d(question)f(of)2055
2471 y(checking)15 b(that)j(the)f(pro\002les)f(are)h(correct\227i.e.,)f
(re\003ect)h(the)g(actual)2055 2571 y(runtime)j(beha)n(viors)f(of)h
(programs\227has)f(not)h(recei)n(v)o(ed)f(much)h(at-)2055
2670 y(tention.)k(In)19 b(practice,)g(implementors)f(use)i
Fp(ad)f(hoc)g Fq(techniques)f(to)2055 2770 y(test)k(pro\002lers,)d
(typically)h(by)g(inspecting)f(the)i(pro\002ling)e(code)h(and)2055
2870 y(checking)29 b(its)j(beha)n(vior)c(manually)i(on)g(a)h(fe)n(w)f
(small)h(programs)2055 2969 y(where)d(e)o(x)o(ecution)e(counts)h(can)h
(be)g(manually)f(computed.)47 b(This)2055 3069 y(paper)16
b(describes)g(a)h(frame)n(w)o(ork)d(for)i(automatic)g(checking)f(of)h
(pro-)2055 3168 y(\002les.)25 b(W)-7 b(e)18 b(illustrate)f(our)f
(approach)f(using)h(a)h(check)o(er)f(for)g(an)h(edge)2055
3268 y(pro\002ler)27 b(we)h(ha)n(v)o(e)f(implemented)f(in)h(the)h
(conte)o(xt)e(of)i(the)f(PL)-8 b(T)o(O)2055 3368 y(link-time)29
b(optimizer)-5 b(.)52 b(Using)30 b(this)g(check)o(er)m(,)g(we)g(were)g
(able)f(to)2055 3467 y(identify)19 b(se)n(v)o(eral)g(discrepancies)g
(in)g(generated)g(pro\002les)g(that)h(had)2055 3567 y(gone)f
(undetected)g(using)g(con)m(v)o(entional)e(testing)k(techniques.)2055
3889 y Fr(Refer)n(ences)p Black 2097 4068 a Fq([1])p
Black 40 w(P)-9 b(.)40 b(Alk)o(en.)91 b Fi(ald)p Fq(:)64
b(an)39 b(assembly)g(language)f(deb)n(ugger)-5 b(.)2235
4168 y Fi(http://dunx1.irt.drexel.edu/)2235 4268 y(\230psa22/ald.html)p
Fq(.)p Black 2097 4484 a([2])p Black 40 w(M.)33 b(Arnold)f(and)g(B.)i
(Ryder)-5 b(.)70 b(A)33 b(frame)n(w)o(ork)e(for)i(reduc-)2235
4584 y(ing)j(the)g(cost)h(of)f(instrumented)e(code.)80
b(In)36 b Fp(Pr)l(oc.)g(A)n(CM)2235 4683 y(SIGPLAN)16
b('01)g(Confer)m(ence)f(on)h(Pr)l(o)o(gr)o(amming)f(Langua)o(g)o(e)2235
4783 y(Design)33 b(and)g(Implementation)e(\(PLDI-01\))p
Fq(,)k(pages)e(168\226)2235 4883 y(179,)19 b(June)h(2001.)p
Black 2097 5099 a([3])p Black 40 w(T)-6 b(.)22 b(Ball)i(and)e(J.)h(R.)h
(Larus.)36 b(Optimally)22 b(pro\002ling)g(and)g(trac-)2235
5199 y(ing)31 b(programs.)65 b Fp(A)n(CM)32 b(T)-5 b(r)o(ansactions)31
b(on)h(Pr)l(o)o(gr)o(amming)2235 5299 y(Langua)o(g)o(es)15
b(and)h(Systems)p Fq(,)h(16\(4\):1319\2261360,)11 b(July)17
b(1994.)p Black 1928 5548 a(9)p Black eop
%%Page: 10 10
10 9 bop Black Black Black -77 90 a Fq([4])p Black 41
w(T)-6 b(.)28 b(Ball)h(and)f(J.)h(R.)g(Larus.)56 b(Ef)n(\002cient)27
b(path)h(pro\002ling.)54 b(In)62 190 y Fp(Pr)l(oc.)32
b(29th)f(Annual)f(International)g(Symposium)h(on)h(Mi-)62
289 y(cr)l(oar)m(c)o(hitectur)m(e)p Fq(,)19 b(pages)g(46\22657,)f
(1996.)p Black -77 473 a([5])p Black 41 w(B.)27 b(Calder)m(,)g(P)-9
b(.)27 b(Feller)m(,)h(and)e(A.)g(Eustace.)49 b(V)-9 b(alue)27
b(pro\002ling)62 573 y(and)21 b(optimization.)33 b Fp(J)n(ournal)21
b(of)h(Instruction)f(Le)o(vel)h(P)-7 b(ar)o(al-)62 672
y(lelism)p Fq(,)21 b(v)n(ol.)f(1,)g(March)f(1999.)p Black
-77 856 a([6])p Black 41 w(P)-9 b(.)16 b(P)-9 b(.)16
b(Chang,)f(S.)i(A.)f(Mahlk)o(e,)f(and)h(W)-8 b(.)16 b(W)-8
b(.)17 b(Hwu.)j(Using)15 b(pro-)62 956 y(\002le)31 b(information)d(to)j
(assist)h(classic)g(code)e(optimizations.)62 1055 y Fp(Softwar)m(e)40
b(-)h(Pr)o(actice)f(and)f(Experience)p Fq(,)45 b(21\(12\):1301\226)62
1155 y(1321,)18 b(1991.)p Black -77 1339 a([7])p Black
41 w(W)-8 b(.)36 b(Y)-11 b(.)37 b(Chen,)i(S.)d(A.)g(Mahlk)o(e,)i(N.)e
(J.)g(W)-7 b(arter)m(,)40 b(S.)c(Anik,)62 1438 y(and)22
b(W)-8 b(.)23 b(W)-8 b(.)24 b(Hwu.)36 b(Pro\002le-assisted)22
b(instruction)f(schedul-)62 1538 y(ing.)45 b Fp(International)23
b(J)n(ournal)h(of)i(P)-7 b(ar)o(allel)25 b(Pr)l(o)o(gr)o(amming)p
Fq(,)62 1637 y(22\(2\):151\226181,)15 b(April)20 b(1994.)p
Black -77 1821 a([8])p Black 41 w(J.)34 b(C.)h(Chernia)n(vsk)o(y)-5
b(.)71 b(V)-9 b(alidation)33 b(through)f(T)-6 b(esting.)73
b(In)62 1921 y Fp(Pr)l(oc.)23 b(11th)f(International)f(Confer)m(ence)h
(on)h(Softwar)m(e)g(En-)62 2020 y(gineering)p Fq(,)18
b(page)i(354,)f(May)h(1989.)p Black -77 2204 a([9])p
Black 41 w(R.)j(Cohn)g(and)f(P)-9 b(.)23 b(G.)g(Lo)n(wne)o(y)-5
b(.)36 b(Hot)23 b(cold)f(optimization)f(of)62 2304 y(lar)o(ge)16
b(Windo)n(ws/NT)g(applications.)k(In)d Fp(Pr)l(oc.)g(29th)f(Annual)62
2403 y(International)f(Symposium)i(on)g(Micr)l(oar)m(c)o(hitectur)m(e)p
Fq(,)g(pages)62 2503 y(80\22689,)h(December)h(1996.)p
Black -118 2687 a([10])p Black 40 w(R.)29 b(Cohn)f(and)g(P)-9
b(.)29 b(G.)g(Lo)n(wne)o(y)-5 b(.)54 b(Design)29 b(and)f(analysis)g(of)
62 2786 y(pro\002le-based)i(optimization)g(in)i(Compaq')-5
b(s)31 b(compilation)62 2886 y(tools)d(for)f(Alpha.)54
b Fp(J)n(ournal)26 b(of)j(Instruction)d(Le)o(vel)j(P)-7
b(ar)o(al-)62 2985 y(lelism)p Fq(,)21 b(v)n(ol.)f(2,)g(May)f(2000.)p
Black -118 3169 a([11])p Black 40 w(S.)f(K.)g(Debray)f(and)g(W)-8
b(.)19 b(Ev)n(ans.)k(Pro\002le-guided)16 b(code)h(com-)62
3269 y(pression.)48 b(In)26 b Fp(Pr)l(oc.)h(A)n(CM)g(SIGPLAN)f(2002)f
(Confer)m(ence)62 3368 y(on)f(Pr)l(o)o(gr)o(amming)g(Langua)o(g)o(e)f
(Design)i(and)f(Implementa-)62 3468 y(tion)c(\(PLDI-02\))p
Fq(,)e(pages)h(95\226105,)f(June)i(2002.)p Black -118
3652 a([12])p Black 40 w(S.)32 b(L.)g(Graham,)h(P)-9
b(.)32 b(B.)g(K)n(essler)m(,)i(and)d(M.)h(K.)g(McK)o(usick.)62
3751 y Fi(gprof)p Fq(:)22 b(A)16 b(call)g(graph)e(e)o(x)o(ecution)f
(pro\002ler)-5 b(.)18 b(In)d Fp(Pr)l(oc.)h(A)n(CM)62
3851 y(SIGPLAN)21 b('82)f(Symposium)g(on)h(Compiler)g(Construction)p
Fq(,)62 3951 y(pages)f(120\226126,)d(June)j(1982.)p Black
-118 4134 a([13])p Black 40 w(M.)k(Hirzel)g(and)f(T)-6
b(.)24 b(Chilimbi.)40 b(Bursty)24 b(tracing:)32 b(A)24
b(frame-)62 4234 y(w)o(ork)29 b(for)g(lo)n(w-o)o(v)o(erhead)d(temporal)
j(pro\002ling.)59 b(In)29 b Fp(Pr)l(oc.)62 4333 y(F)-9
b(ourth)17 b(W)-8 b(orkshop)18 b(on)f(F)-6 b(eedbac)n(k-Dir)m(ected)16
b(and)h(Dynamic)62 4433 y(Optimization)i(\(FDDO-4\))p
Fq(,)g(December)f(2001.)p Black -118 4617 a([14])p Black
40 w(U.)33 b(H)7 b(\250)-35 b(olzle)33 b(and)f(D.)i(Ungar)-5
b(.)69 b(Optimizing)31 b(dynamically-)62 4716 y(dispatched)40
b(calls)i(with)f(run-time)f(type)h(feedback.)95 b(In)62
4816 y Fp(Pr)l(oc.)33 b(A)n(CM)g(SIGPLAN)g('94)g(Confer)m(ence)f(on)h
(Pr)l(o)o(gr)o(am-)62 4916 y(ming)44 b(Langua)o(g)o(e)e(Design)i(and)g
(Implementation)p Fq(,)j(June)62 5015 y(1994.)p Black
-118 5199 a([15])p Black 40 w(W)-8 b(.)27 b(Ho)n(wden.)47
b Fp(Softwar)m(e)26 b(Engineering)f(and)g(T)-8 b(ec)o(hnolo)o(gy:)62
5299 y(Functional)18 b(Pr)l(o)o(gr)o(am)i(T)-8 b(esting)p
Fq(.)29 b(McGra)o(w-Hill,)19 b(1987.)p Black Black Black
2055 90 a([16])p Black 40 w(J.)24 b(R.)g(Larus)f(and)g(T)-6
b(.)24 b(Ball.)40 b(Re)n(writing)23 b(e)o(x)o(ecutable)f(\002les)i(to)
2235 190 y(measure)k(program)f(beha)n(vior)-5 b(.)57
b Fp(Softwar)m(e\227Pr)o(actice)27 b(and)2235 289 y(Experience)p
Fq(,)19 b(24\(2\):197\226218,)c(February)j(1994.)p Black
2055 456 a([17])p Black 40 w(J.)k(Laski.)34 b(T)-6 b(esting)22
b(in)g(the)g(Program)e(De)n(v)o(elopment)f(Cycle.)2235
555 y Fp(Softwar)m(e)35 b(Engineering)f(J)n(ournal)p
Fq(,)39 b(4\(2\):95\226106,)c(March)2235 655 y(1989.)p
Black 2055 821 a([18])p Black 40 w(E.)21 b(Mehofer)f(and)g(B.)i
(Scholz.)32 b(A)22 b(no)o(v)o(el)e(probabilistic)f(data)2235
920 y(\003o)n(w)i(frame)n(w)o(ork.)31 b Fp(Lectur)m(e)21
b(Notes)h(in)g(Computer)e(Science)p Fq(,)2235 1020 y(2027,)e(2001.)p
Black 2055 1186 a([19])p Black 40 w(R.)25 b(Muth,)f(S.)g(W)-7
b(atterson,)25 b(and)f(S.)g(K.)h(Debray)-5 b(.)40 b(Code)23
b(spe-)2235 1286 y(cialization)j(based)h(on)f(v)n(alue)h(pro\002les.)50
b(In)27 b Fp(Pr)l(oc.)g(7th.)f(In-)2235 1385 y(ternational)35
b(Static)i(Analysis)g(Symposium)e(\(SAS)h(2000\))p Fq(,)2235
1485 y(pages)20 b(340\226359,)d(June)j(2000.)p Black
2055 1651 a([20])p Black 40 w(K.)26 b(Pettis)h(and)e(R.)h(C.)h(Hansen.)
46 b(Pro\002le-guided)23 b(code)i(po-)2235 1751 y(sitioning.)75
b(In)35 b Fp(Pr)l(oc.)g(A)n(CM)g(SIGPLAN)g(Confer)m(ence)f(on)2235
1850 y(Pr)l(o)o(gr)o(amming)20 b(Langua)o(g)o(e)g(Design)h(and)g
(Implementation)p Fq(,)2235 1950 y(pages)f(16\22627,)e(June)i(1990.)p
Black 2055 2116 a([21])p Black 40 w(A.)j(Podgurski,)e(C.)i(Y)-8
b(ang,)22 b(and)f(W)-8 b(.)24 b(Masri.)36 b(P)o(artition)22
b(T)-6 b(est-)2235 2216 y(ing,)39 b(Strati\002ed)d(Sampling,)j(and)c
(Cluster)h(Analysis.)80 b(In)2235 2315 y Fp(Pr)l(oc.)33
b(A)n(CM)g(SIGSOFT)f('93)g(Symposium)g(on)h(the)g(F)-9
b(oun-)2235 2415 y(dations)19 b(of)h(Softwar)m(e)g(Engineering)p
Fq(,)e(pages)h(169\226181,)e(De-)2235 2514 y(cember)i(1993.)p
Black 2055 2680 a([22])p Black 40 w(J.)24 b(B.)h(Rosenber)o(g.)38
b Fp(How)24 b(Deb)n(ug)o(g)o(er)o(s)f(W)-8 b(ork:)33
b(Algorithms,)2235 2780 y(Data)k(Structur)m(es,)42 b(and)37
b(Ar)m(c)o(hitectur)m(e)p Fq(.)85 b(John)37 b(W)m(ile)o(y)h(&)2235
2880 y(Sons,)20 b(1996.)p Black 2055 3046 a([23])p Black
40 w(B.)25 b(Schw)o(arz,)f(S.)g(K.)g(Debray)-5 b(,)23
b(and)h(G.)g(R.)h(Andre)n(ws.)40 b(Plto:)2235 3145 y(A)19
b(link-time)f(optimizer)g(for)h(the)g(Intel)f(IA-32)g(architecture.)
2235 3245 y(In)g Fp(Pr)l(oc.)g(2001)f(W)-8 b(orkshop)18
b(on)g(Binary)g(T)-5 b(r)o(anslation)18 b(\(WBT)-6 b(-)2235
3345 y(2001\))p Fq(,)18 b(2001.)p Black 2055 3511 a([24])p
Black 40 w(B.)i(Schw)o(arz,)e(S.)i(K.)f(Debray)-5 b(,)17
b(and)i(G.)g(R.)h(Andre)n(ws.)26 b(Disas-)2235 3610 y(sembly)i(of)g(e)o
(x)o(ecutable)f(code)g(re)n(visited.)55 b(In)28 b Fp(Pr)l(oc.)h(IEEE)
2235 3710 y(2002)39 b(W)-8 b(orking)39 b(Confer)m(ence)h(on)f(Re)o(ver)
o(se)h(Engineering)2235 3810 y(\(WCRE\))p Fq(,)20 b(pages)g(45\22654,)e
(October)h(2002.)p Black 2055 3976 a([25])p Black 40
w(A.)38 b(Sri)n(v)n(asta)n(v)n(a)f(and)g(A.)g(Eustace.)84
b(A)-9 b(T)o(OM\227A)37 b(system)2235 4075 y(for)31 b(b)n(uilding)g
(customized)g(program)f(analysis)i(tools.)67 b(In)2235
4175 y Fp(Pr)l(oc.)40 b(A)n(CM)g(SIGPLAN'94)e(Confer)m(ence)i(on)f(Pr)l
(o)o(gr)o(am-)2235 4275 y(ming)28 b(Langua)o(g)o(e)e(Design)h(and)h
(Implementation)d(\(PLDI\))p Fq(,)2235 4374 y(pages)20
b(196\226205,)d(June)j(1994.)p Black 2055 4540 a([26])p
Black 40 w(S.)28 b(W)-7 b(atterson)27 b(and)f(S.)i(K.)f(Debray)-5
b(.)50 b(Goal-directed)25 b(v)n(alue)2235 4640 y(pro\002ling.)32
b(In)21 b Fp(Pr)l(oc.)g(T)-8 b(enth)22 b(International)d(Confer)m(ence)
i(on)2235 4739 y(Compiler)f(Construction)g(\(CC)h(2001\))p
Fq(,)d(April)i(2001.)p Black 1907 5548 a(10)p Black eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
